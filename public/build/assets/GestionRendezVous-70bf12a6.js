import{r as m,P as S,y as P,o as n,d,a as e,F as _,f as v,t as r,g as b,b as x,u as p,i as A,v as w,e as V,J as g}from"./app-e263ac0f.js";import{i as c}from"./index.min-40c7dc60.js";import{_ as M,f as L}from"./index-ed97a630.js";import"./typeof-7fd5df1e.js";const C={class:"modal-dialog modal-lg",role:"document"},T={class:"modal-content",style:{"background-color":"#eff7f8"}},G=e("div",{class:"modal-header",style:{"background-color":"#ffb177"}},[e("h5",{class:"modal-title"},"Gestion Des Rendez-vous"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),j={class:"modal-body"},F=e("ul",{class:"nav nav-pills nav-fill mb-3",id:"myTab",role:"tablist"},[e("li",{class:"nav-item"},[e("a",{class:"nav-link active",id:"patientAddRendeVous-tab","data-toggle":"pill",href:"#patientAddRendeVous",role:"tab","aria-controls":"patientAddRendeVous","aria-selected":"true"},[e("i",{class:"fas fa-file-invoice"}),V("Ajouter Rendez-Vous")])]),e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"patientRendezVousList-tab","data-toggle":"pill",href:"#patientRendezVousList",role:"tab","aria-controls":"patientRendezVousList","aria-selected":"false"},[e("i",{class:"fas fa-hand-holding-usd"}),V("Liste Des Rendez-Vous")])])],-1),B={class:"tab-content",id:"myTabContent"},E={key:0,class:"tab-pane fade",id:"patientRendezVousList",role:"tabpanel","aria-labelledby":"patientRendezVousList-tab"},N={class:"iq-card"},U={class:"iq-card-body"},q={class:"table-responsive"},J={id:"datatable",class:"table table-striped table-bordered"},O=e("thead",null,[e("tr",null,[e("th",null,"Date Rendez Vous"),e("th",null,"Docteur"),e("th",null,"Supprimer")])],-1),I=["onClick"],Y=e("i",{class:"ri-delete-bin-2-line"},null,-1),H=[Y],K={key:1,class:"tab-pane fade show active",id:"patientAddRendeVous",role:"tabpanel","aria-labelledby":"patientAddRendeVous-tab"},Q={class:"row text-center"},W={class:"col-lg-6",style:{"font-size":"20px",color:"black","font-weight":"bold"}},X={key:0,class:"col-lg-6",style:{"font-size":"20px",color:"black","font-weight":"bold"}},Z={class:"row m-4"},ee={class:"col-lg-12"},te={class:"form-group col-md-4 col-lg-12"},oe=e("label",{class:"control-label align-self-center mb-1",for:"DocteurAddRendezVous"},[e("span",{style:{color:"red","font-size":"1.5em"}},"* "),e("span",{style:{"font-size":"20px",color:"black","font-weight":"bold"}},"Docteur :")],-1),se=e("option",{disabled:"",selected:""}," Selectioner Un Docteur ",-1),ae=["value"],re={__name:"GestionRendezVous",props:{currentPatient:Object,docteurs:Object},setup(a){const l=m(new Date),z=m(null),u=a,f=m(u.currentPatient),i=S({dateRendezVous:l.value,patient_id:f,docteur_id:""}),R=()=>{u.currentPatient=null},y=()=>{const o=L(l.value,"yyyy-MM-dd");i.dateRendezVous=o,i.docteur_id?g.visit("/rendezVous",{method:"post",data:i,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!1,onProgress:s=>{},onSuccess:s=>{c.useToast().success("Rendez Vous  Ajouter",{position:"bottom-right",duration:3e3}),$("#ModalAddRendezVous").modal("hide")},onError:s=>{c.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}}):c.useToast().error("Veuillez Selectionner Un Docteur ",{position:"bottom-right",duration:5e3})};P(()=>u.currentPatient,o=>{f.value=o.id});const D=o=>{g.delete(`/RendezVous/${o}`,{preserveState:!0,preserveScroll:!0,data:o,onSuccess:s=>{c.useToast().info("Rendez Vous Supprimer",{position:"bottom-right",duration:3e3}),$("#ModalAddRendezVous").modal("hide")}})};function k(o){if(!(o instanceof Date))return"";const s=String(o.getDate()).padStart(2,"0"),t=String(o.getMonth()+1).padStart(2,"0"),h=o.getFullYear();return`${s}-${t}-${h}`}return(o,s)=>(n(),d("div",{class:"modal fade bd-GestionRendezVous-modal-lg",tabindex:"-1",role:"dialog",ref_key:"GestionRendezVousModal",ref:z,id:"ModalAddRendezVous"},[e("div",C,[e("div",T,[G,e("div",j,[F,e("div",B,[a.currentPatient?(n(),d("div",E,[e("div",N,[e("div",U,[e("div",q,[e("table",J,[O,e("tbody",null,[(n(!0),d(_,null,v(a.currentPatient.rendez_vous,t=>(n(),d("tr",{key:t.id},[e("td",null,r(t.dateRendezVous),1),e("td",null,r(t.docteur.name),1),e("td",null,[e("button",{onClick:h=>D(t.id),type:"button",class:"btn btn-danger m-2",title:"Ajouter à la Liste d'attente"},H,8,I)])]))),128))])])])])])])):b("",!0),a.currentPatient?(n(),d("div",K,[e("div",Q,[e("div",W,r(a.currentPatient.nomPatient+" "+a.currentPatient.prenomPatient),1),a.currentPatient?(n(),d("div",X,r(k(l.value)),1)):b("",!0)]),e("div",Z,[e("div",ee,[x(p(M),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),mode:"date","min-date":new Date,expanded:""},null,8,["modelValue","min-date"])])]),e("div",te,[oe,A(e("select",{name:"DocteurAddRendezVous",class:"form-control",id:"DocteurAddRendezVous","onUpdate:modelValue":s[1]||(s[1]=t=>p(i).docteur_id=t),required:""},[se,(n(!0),d(_,null,v(a.docteurs,t=>(n(),d("option",{value:t.id,key:t.id},r(t.name),9,ae))),128))],512),[[w,p(i).docteur_id]])])])):b("",!0)])]),e("div",{class:"modal-footer"},[e("button",{type:"button",style:{"font-size":"16px"},class:"btn btn-warning text-dark",onClick:y}," Enregistrer Le Rendez Vous "),e("button",{type:"button",style:{"font-size":"16px"},class:"btn btn-secondary",onClick:R,"data-dismiss":"modal"}," Fermer ")])])])],512))}};export{re as default};
