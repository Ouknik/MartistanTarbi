import{P,o as c,d as l,a as e,h as y,t as p,i as u,j as _,u as h,F as S,f as C,J as m,C as w,D as x}from"./app-e263ac0f.js";import{i as a}from"./index.min-40c7dc60.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const r=o=>(w("data-v-16d00207"),o=o(),x(),o),D={class:"modal",id:"CreatePrescription",tabindex:"-1",role:"dialog",style:{display:"none"},"aria-hidden":"true"},B={class:"modal-dialog modal-lg"},M={class:"modal-content"},T=r(()=>e("div",{class:"modal-header bg-secondary"},[e("h5",{class:"modal-title text-white"},"Creer Prescriptions"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1)),V={class:"modal-body"},j={class:"form-row"},q={class:"col-lg-6 mb-3"},A={class:"form-row"},F={class:"col-lg-11 mb-3"},I=r(()=>e("i",{class:"ri-add-circle-line"},null,-1)),U=[I],E={class:"form-row"},L={class:"col-lg-12 mb-3"},J={class:"iq-card"},z=r(()=>e("div",{class:"iq-card-header bg-secondary d-flex justify-content-between"},[e("div",{class:"iq-header-title"},[e("h4",{class:"card-title text-white"},"Liste Prescriptions")])],-1)),N={class:"iq-card-body"},O={class:"doctors-lists m-0 p-0"},G={class:"d-flex mb-4 align-items-center"},H=["onUpdate:modelValue"],K=["onClick"],Q=r(()=>e("i",{class:"ri-edit-line"},null,-1)),R=[Q],W=["onClick"],X=r(()=>e("i",{class:"ri-delete-bin-line"},null,-1)),Y=[X],Z=r(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Annuler")],-1)),ee={__name:"CreatePrescription",props:{medicament:Object},setup(o){const b=o,n=P({contenuPrescription:"",medicament:""}),v=()=>{if(!n.contenuPrescription.trim()){a.useToast().error("Le champ de prescription ne doit pas être vide",{position:"bottom-right",duration:3e3});return}n.medicament=b.medicament.id,m.visit("/prescriptions",{method:"post",data:n,preserveState:!0,preserveScroll:!1,errorBag:null,forceFormData:!0,onProgress:t=>{},onSuccess:t=>{a.useToast().success("Bien Ajouter",{position:"bottom-right",duration:3e3}),$("#CreatePrescription").modal("hide")},onError:t=>{a.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}})},g=t=>{m.visit(`/prescriptions/${t.id}`,{method:"put",data:t,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!1,preserveState:!0,preserveScroll:!0,onSuccess:i=>{a.useToast().success("Prescription Modifier",{position:"bottom-right",duration:3e3}),$("#UpdateAssurance").modal("hide")}})},f=t=>{m.delete(`/prescriptions/${t.id}`,{preserveState:!0,preserveScroll:!0,onSuccess:i=>{a.useToast().info("Prescription Supprimer",{position:"bottom-right",duration:3e3}),$("#CreatePrescription").modal("hide")}})};return(t,i)=>(c(),l("div",D,[e("div",B,[e("form",{onSubmit:i[1]||(i[1]=y((...s)=>t.submit&&t.submit(...s),["prevent"]))},[e("div",M,[T,e("div",V,[e("div",j,[e("div",q,[e("h4",null,p(t.$props.medicament.nomMedicament)+" "+p(t.$props.medicament.dosageMedicament)+" "+p(t.$props.medicament.uniteDosageMedicament),1)])]),e("div",A,[e("div",F,[u(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>h(n).contenuPrescription=s),class:"form-control",id:"champPrescriptionAdd"},null,512),[[_,h(n).contenuPrescription]])]),e("div",{class:"col-lg-1 mt-1"},[e("button",{onClick:v,type:"button",class:"btn btn-primary mb-3"},U)])]),e("div",E,[e("div",L,[e("div",J,[z,e("div",N,[e("ul",O,[(c(!0),l(S,null,C(o.medicament.prescriptions,s=>(c(),l("li",G,[u(e("input",{type:"text",class:"form-control mr-4","onUpdate:modelValue":d=>s.prescription=d,id:"validationDefault03"},null,8,H),[[_,s.prescription]]),e("button",{type:"button",onClick:d=>g(s),class:"btn btn-success mt-0 mr-2"},R,8,K),e("button",{type:"button",onClick:d=>f(s),class:"btn btn-danger mt-0 mr-2"},Y,8,W)]))),256))])])])])])]),Z])],32)])]))}},ie=k(ee,[["__scopeId","data-v-16d00207"]]);export{ie as default};
