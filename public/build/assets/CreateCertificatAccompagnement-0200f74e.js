import{P as f,x as g,o as v,d as b,a as t,h as x,i as l,j as c,u as r,e as y,J as C}from"./app-e263ac0f.js";import{i as d}from"./index.min-40c7dc60.js";const w={class:"modal fade",id:"AddCertificatAccompagnement",tabindex:"-1",role:"dialog",style:{display:"none"},"aria-hidden":"true"},D={class:"modal-dialog modal-lg"},A={class:"modal-content"},j=t("div",{class:"modal-header bg-secondary"},[t("h5",{class:"modal-title text-white"},"Ajouter Certificat Accompagnement "),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"×")])],-1),T={class:"modal-body"},P={class:"row"},B={class:"col-lg-6"},F=t("label",{for:"exampleInputdate"},"Date Certificat",-1),M={class:"row"},S={class:"col-lg-12"},V={class:"form-group"},E=t("label",{for:"exampleFormControlTextarea1"},"Contenu",-1),k=t("div",null,null,-1),J={class:"row"},q={class:"col-lg-6 ml-auto text-right"},I={class:"form-group"},N={type:"submit",class:"btn mb-3 btn-primary",style:{height:"50px",width:"100px"}},O=["disabled"],G={__name:"CreateCertificatAccompagnement",props:{patient:Object,docteur:Object},setup(m){const n=m,u=()=>{const s=new Date,o=s.getFullYear();let e=s.getMonth()+1,a=s.getDate();return e=e<10?`0${e}`:e,a=a<10?`0${a}`:a,`${o}-${e}-${a}`},i=f({typeCertificat:"Certificat Accompagnement",contenu:"",patient_id:n.patient.id,dateCertificat:u()}),p=(s=>{const o=new Date(s);let e=""+o.getDate(),a=""+(o.getMonth()+1),h=o.getFullYear();return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),[e,a,h].join("-")})(new Date);g(()=>{i.contenu=`Je soussigné Dr.${n.docteur.name} que 
 Mr.${n.patient.conjointPatient} A accompagné sa femme ${n.patient.civilitePatient} ${n.patient.prenomPatient} ${n.patient.nomPatient} pour consultation le ${p}. 
Certificat délivré à l'intéressée pour servir et valoir ce que de droit.`});const _=()=>{let s={...i};s.contenu=i.contenu.replace(/\n/g,"<br>"),C.visit("/certificats",{method:"post",data:s,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!0,onProgress:o=>{},onSuccess:o=>{d.useToast().success("Certificat Bien Ajouter",{position:"bottom-right",duration:3e3}),$("#AddCertificatAccompagnement").modal("hide")},onError:o=>{d.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}})};return(s,o)=>(v(),b("div",w,[t("div",D,[t("div",A,[t("form",{onSubmit:x(_,["prevent"])},[j,t("div",T,[t("div",P,[t("div",B,[F,l(t("input",{type:"date",class:"form-control my-2",id:"exampleInputdate","onUpdate:modelValue":o[0]||(o[0]=e=>r(i).dateCertificat=e)},null,512),[[c,r(i).dateCertificat]])])]),t("div",M,[t("div",S,[t("div",V,[E,l(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=e=>r(i).contenu=e),class:"form-control text-dark",id:"exampleFormControlTextarea1",rows:"5"},`
                                `,512),[[c,r(i).contenu]])])])]),k,t("div",J,[t("div",q,[t("div",I,[t("button",N,[t("i",{class:"ri-bill-fill",disabled:r(i).processing},null,8,O),y("Ajouter ")])])])])])],32)])])]))}};export{G as default};
