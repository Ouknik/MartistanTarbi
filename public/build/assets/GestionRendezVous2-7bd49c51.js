import{r as _,P as D,y as k,o as n,d,a as e,F as f,f as v,t as r,g as u,b as S,u as m,i as x,v as P,e as g,J as V}from"./app-e263ac0f.js";import{i as c}from"./index.min-40c7dc60.js";import{_ as A,f as w}from"./index-ed97a630.js";import"./typeof-7fd5df1e.js";const L={class:"modal fade bd-GestionRendezVous2-modal-lg",tabindex:"-1",role:"dialog",id:"ModalAddRendezVous2"},M={class:"modal-dialog modal-lg",role:"document"},T={class:"modal-content",style:{"background-color":"#eff7f8"}},C=e("div",{class:"modal-header",style:{"background-color":"#ffb177"}},[e("h5",{class:"modal-title"},"Gestion Des Rendez-vous"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),j={class:"modal-body"},F=e("ul",{class:"nav nav-pills nav-fill mb-3",id:"myTab",role:"tablist"},[e("li",{class:"nav-item"},[e("a",{class:"nav-link active",id:"patientAddRendeVous2-tab","data-toggle":"pill",href:"#patientAddRendeVous2",role:"tab","aria-controls":"patientAddRendeVous2","aria-selected":"true"},[e("i",{class:"fas fa-file-invoice"}),g("Ajouter Rendez-Vous")])]),e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"patientRendezVousList2-tab","data-toggle":"pill",href:"#patientRendezVousList2",role:"tab","aria-controls":"patientRendezVousList2","aria-selected":"false"},[e("i",{class:"fas fa-hand-holding-usd"}),g("Liste Des Rendez-Vous")])])],-1),B={class:"tab-content",id:"myTabContent"},E={key:0,class:"tab-pane fade",id:"patientRendezVousList2",role:"tabpanel","aria-labelledby":"patientRendezVousList2-tab"},N={class:"iq-card"},U={class:"iq-card-body"},q={class:"table-responsive"},G={id:"datatable",class:"table table-striped table-bordered"},J=e("thead",null,[e("tr",null,[e("th",null,"Date Rendez Vous"),e("th",null,"Docteur"),e("th",null,"Supprimer")])],-1),O=["onClick"],I=e("i",{class:"ri-delete-bin-2-line"},null,-1),Y=[I],H={key:1,class:"tab-pane fade show active",id:"patientAddRendeVous2",role:"tabpanel","aria-labelledby":"patientAddRendeVous2-tab"},K={class:"row text-center"},Q={class:"col-lg-6",style:{"font-size":"20px",color:"black","font-weight":"bold"}},W={key:0,class:"col-lg-6",style:{"font-size":"20px",color:"black","font-weight":"bold"}},X={class:"row m-4"},Z={class:"col-lg-12"},ee={class:"form-group col-md-4 col-lg-12"},te=e("label",{class:"control-label align-self-center mb-1"},[e("span",{style:{color:"red","font-size":"1.5em"}},"* "),e("span",{style:{"font-size":"20px",color:"black","font-weight":"bold"}},"Docteur :")],-1),oe=e("option",{disabled:"",selected:""}," Selectioner Un Docteur ",-1),se=["value"],ae=e("button",{type:"button",style:{"font-size":"16px"},class:"btn btn-secondary","data-dismiss":"modal"}," Fermer ",-1),re={__name:"GestionRendezVous2",props:{currentPatient:Object,docteurs:Object},setup(a){const l=_(new Date),b=a,p=_(b.currentPatient),i=D({dateRendezVous:l.value,patient_id:p,docteur_id:""});k(()=>b.currentPatient,o=>{p.value=o.id});const z=()=>{const o=w(l.value,"yyyy-MM-dd");i.dateRendezVous=o,i.docteur_id?V.visit("/rendezVous",{method:"post",data:i,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!1,onProgress:s=>{},onSuccess:s=>{c.useToast().success("Rendez Vous  Ajouter",{position:"bottom-right",duration:3e3}),$("#ModalAddRendezVous2").modal("hide")},onError:s=>{c.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}}):c.useToast().error("Veuillez Selectionner Un Docteur ",{position:"bottom-right",duration:5e3})},y=o=>{V.delete(`/RendezVous/${o}`,{preserveState:!0,preserveScroll:!0,data:o,onSuccess:s=>{c.useToast().info("Rendez Vous Supprimer",{position:"bottom-right",duration:3e3}),$("#ModalAddRendezVous2").modal("hide")}})};function R(o){if(!(o instanceof Date))return"";const s=String(o.getDate()).padStart(2,"0"),t=String(o.getMonth()+1).padStart(2,"0"),h=o.getFullYear();return`${s}-${t}-${h}`}return(o,s)=>(n(),d("div",L,[e("div",M,[e("div",T,[C,e("div",j,[F,e("div",B,[a.currentPatient?(n(),d("div",E,[e("div",N,[e("div",U,[e("div",q,[e("table",G,[J,e("tbody",null,[(n(!0),d(f,null,v(a.currentPatient.RendezVous,t=>(n(),d("tr",null,[e("td",null,r(t.dateRendezVous),1),e("td",null,r(t.docteur.name),1),e("td",null,[e("button",{onClick:h=>y(t.id),type:"button",class:"btn btn-danger m-2",title:"Ajouter à la Liste d'attente"},Y,8,O)])]))),256))])])])])])])):u("",!0),a.currentPatient?(n(),d("div",H,[e("div",K,[e("div",Q,r(a.currentPatient.nomPatient+" "+a.currentPatient.prenomPatient),1),a.currentPatient?(n(),d("div",W,r(R(l.value)),1)):u("",!0)]),e("div",X,[e("div",Z,[S(m(A),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),mode:"date","min-date":new Date,expanded:""},null,8,["modelValue","min-date"])])]),e("div",ee,[te,x(e("select",{name:"DocteurAddRendezVous",class:"form-control",id:"DocteurAddRendezVous","onUpdate:modelValue":s[1]||(s[1]=t=>m(i).docteur_id=t),required:""},[oe,(n(!0),d(f,null,v(a.docteurs,t=>(n(),d("option",{value:t.id,key:t.id},r(t.name),9,se))),128))],512),[[P,m(i).docteur_id]])])])):u("",!0)])]),e("div",{class:"modal-footer"},[e("button",{type:"button",style:{"font-size":"16px"},class:"btn btn-warning text-dark",onClick:z}," Enregistrer Le Rendez Vous "),ae])])])]))}};export{re as default};
