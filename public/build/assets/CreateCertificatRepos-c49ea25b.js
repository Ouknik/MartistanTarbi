import{P as f,x as g,o as v,d as b,a as t,h as x,i as l,j as d,u as n,e as y,J as C}from"./app-e263ac0f.js";import{i as c}from"./index.min-40c7dc60.js";const D={class:"modal fade",id:"AddCertificatRepos",tabindex:"-1",role:"dialog",style:{display:"none"},"aria-hidden":"true"},w={class:"modal-dialog modal-lg"},j={class:"modal-content"},T=t("div",{class:"modal-header bg-secondary"},[t("h5",{class:"modal-title text-white"},"Ajouter Certificat Repos "),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"×")])],-1),A={class:"modal-body"},B={class:"row"},F={class:"col-lg-6"},P=t("label",{for:"exampleInputdate"},"Date Certificat",-1),R={class:"row"},S={class:"col-lg-12"},V={class:"form-group"},E=t("label",{for:"exampleFormControlTextarea1"},"Contenu",-1),M=t("div",null,null,-1),k={class:"row"},J={class:"col-lg-6 ml-auto text-right"},I={class:"form-group"},N={type:"submit",class:"btn mb-3 btn-primary",style:{height:"50px",width:"100px"}},O=["disabled"],z={__name:"CreateCertificatRepos",props:{patient:Object,docteur:Object},setup(u){const r=u,p=()=>{const a=new Date,o=a.getFullYear();let e=a.getMonth()+1,s=a.getDate();return e=e<10?`0${e}`:e,s=s<10?`0${s}`:s,`${o}-${e}-${s}`},i=f({typeCertificat:"Certificat Repos",contenu:"",patient_id:r.patient.id,dateCertificat:p()}),m=(a=>{const o=new Date(a);let e=""+o.getDate(),s=""+(o.getMonth()+1),h=o.getFullYear();return e.length<2&&(e="0"+e),s.length<2&&(s="0"+s),[e,s,h].join("-")})(new Date);g(()=>{i.contenu=`Je soussigné Dr.${r.docteur.name}, certifie 
 Que ${r.patient.civilitePatient} ${r.patient.prenomPatient} ${r.patient.nomPatient} nécessite un repos  de travail. 
De () jours à compter du ${m}. 
 Ce Certificat est délivré pour servir et valoir ce que de droit.`});const _=()=>{let a={...i};a.contenu=i.contenu.replace(/\n/g,"<br>"),C.visit("/certificats",{method:"post",data:a,preserveState:!0,preserveScroll:!1,errorBag:null,forceFormData:!0,onProgress:o=>{},onSuccess:o=>{c.useToast().success("Certificat Bien Ajouter",{position:"bottom-right",duration:3e3}),$("#AddCertificatRepos").modal("hide")},onError:o=>{c.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}})};return(a,o)=>(v(),b("div",D,[t("div",w,[t("div",j,[t("form",{onSubmit:x(_,["prevent"])},[T,t("div",A,[t("div",B,[t("div",F,[P,l(t("input",{type:"date",class:"form-control my-2",id:"exampleInputdate","onUpdate:modelValue":o[0]||(o[0]=e=>n(i).dateCertificat=e)},null,512),[[d,n(i).dateCertificat]])])]),t("div",R,[t("div",S,[t("div",V,[E,l(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=e=>n(i).contenu=e),class:"form-control text-dark",id:"exampleFormControlTextarea1",rows:"5"},`
                                `,512),[[d,n(i).contenu]])])])]),M,t("div",k,[t("div",J,[t("div",I,[t("button",N,[t("i",{class:"ri-bill-fill",disabled:n(i).processing},null,8,O),y("Ajouter ")])])])])])],32)])])]))}};export{z as default};
