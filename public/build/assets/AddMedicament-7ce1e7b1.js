import{r as h,P as y,o as d,d as u,a as e,t as v,u as b,h as V,b as M,i as l,j as r,F as x,f as U,v as f,g as D,J as T}from"./app-e263ac0f.js";import{i as m}from"./index.min-40c7dc60.js";import{s as S}from"./vue-multiselect.esm-816d2b1c.js";const N={class:"modal fade bd-example-modal-xl",id:"AddMedicamentsTraitement",tabindex:"-1",role:"dialog",style:{display:"none"},"aria-hidden":"true"},P={hidden:""},w={class:"modal-dialog modal-xl"},A={class:"modal-content"},j=e("div",{class:"modal-header bg-secondary"},[e("h5",{class:"modal-title text-white"},"Ajouter Médicament / Traitement "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),C={class:"modal-body",style:{"min-height":"500px"}},k={class:"row pt-2 ml-1"},J={class:"col-lg-6"},L=e("label",{class:"typo__label"}," selectionner medicaments",-1),R={class:"col-md-3 mb-3 col-lg-6"},q=e("label",{for:"validationCustom02"},"Nom Traitement",-1),B={class:"row justify-content-center"},E={key:0},O={class:"row mt-4"},F={class:"col-lg-11"},z={style:{"font-weight":"bold"}},G={class:"row"},H={class:"col d-flex align-items-center"},I={class:"form-group"},K=e("label",{for:"input1"},"Dose",-1),Q=["onUpdate:modelValue"],W={class:"col"},X={class:"form-group"},Y=e("label",{for:"input1"},"U.M",-1),Z=["onUpdate:modelValue"],ee={class:"col"},te={class:"form-group"},oe=e("label",{for:"input2"},"Par/j",-1),se=["onUpdate:modelValue"],ie={class:"col"},le={class:"form-group"},ae=e("label",{for:"input3"},"Moment de prise",-1),ne=["onUpdate:modelValue"],re=e("option",{value:"Avant Repas"},"Avant Repas",-1),de=e("option",{value:"Milieu Repas"},"Milieu Repas",-1),ue=e("option",{value:"Aprés Repas"},"Aprés Repas",-1),ce=[re,de,ue],me={class:"col"},pe={class:"form-group"},_e=e("label",{for:"input1"},"Durée",-1),he=["onUpdate:modelValue"],ve={class:"col"},be={class:"form-group"},fe=e("label",{for:"input3"},"Durée de Prise",-1),ge=["onUpdate:modelValue"],ye=e("option",{value:"Jours"},"Jours",-1),Ve=e("option",{value:"Semaines"},"Semaines",-1),Me=e("option",{value:"Mois"},"Mois",-1),xe=[ye,Ve,Me],Ue={class:"modal-footer"},De=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Annuler",-1),Pe={__name:"AddMedicament",props:{medicaments:Object,medicament:Object,traitement:Object},setup(n){h([]);const i=h(null),p=n,c=y({medicaments:i,traitementV:p.traitement}),_=({nomMedicament:a,dosageMedicament:o,uniteDosageMedicament:t})=>`${a} – ${o} ${t}`,g=a=>{const o={};if(!i.value||i.value.length===0){m.useToast().error("Sélectionnez au moins un médicament.",{position:"bottom-right",duration:3e3});return}if(i.value.forEach(t=>{t.NombreComprime||(o[t.id]="Le champ Dose est obligatoire"),t.quantiteParJour||(o[t.id]="Le champ Par/jour est obligatoire"),t.dureeNombre||(o[t.id]="Le champ Durée est obligatoire"),t.momentDePrise||(o[t.id]="Le champ Moment de prise est obligatoire"),t.duree||(o[t.id]="Le champ Durée de Prise est obligatoire")}),Object.keys(o).length>0){m.useToast().error("Veuillez remplir tous les champs obligatoires.",{position:"bottom-right",duration:3e3});return}T.visit(`/traitements/${a.id}`,{method:"put",data:c,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!1,preserveState:!0,preserveScroll:!0,onSuccess:t=>{m.useToast().success("Traitement Modifié",{position:"bottom-right",duration:3e3}),$("#AddMedicamentsTraitement").modal("hide"),c.medicaments=null}})};return(a,o)=>(d(),u("div",N,[e("span",P,v(b(c).traitementV=p.traitement),1),e("div",w,[e("form",{onSubmit:o[3]||(o[3]=V((...t)=>a.submit&&a.submit(...t),["prevent"]))},[e("div",A,[j,e("div",C,[e("div",k,[e("div",J,[L,M(b(S),{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=t=>i.value=t),options:n.medicaments,label:"nomMedicament",multiple:!0,"custom-label":_,"tag-position":"bottom","track-by":"id"},null,8,["modelValue","options"])]),e("div",R,[q,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>n.traitement.nomTraitement=t),id:"validationCustom02",required:"",placeholder:"Saisir le nom Du Traitement..."},null,512),[[r,n.traitement.nomTraitement]])])]),e("div",B,[i.value?(d(),u("div",E,[(d(!0),u(x,null,U(i.value,t=>(d(),u("div",{key:t.id},[e("div",O,[e("div",F,[e("h5",z,v(_(t)),1)])]),e("div",G,[e("div",H,[e("div",I,[K,l(e("input",{type:"text",class:"form-control",style:{width:"50px"},id:"input1","onUpdate:modelValue":s=>t.NombreComprime=s},null,8,Q),[[r,t.NombreComprime]])])]),e("div",W,[e("div",X,[Y,l(e("input",{type:"text",class:"form-control",style:{width:"150px"},id:"input1","onUpdate:modelValue":s=>t.uniteMessure=s,disabled:""},null,8,Z),[[r,t.uniteMessure]])])]),e("div",ee,[e("div",te,[oe,l(e("input",{type:"text",class:"form-control",id:"input2",placeholder:"","onUpdate:modelValue":s=>t.quantiteParJour=s},null,8,se),[[r,t.quantiteParJour]])])]),e("div",ie,[e("div",le,[ae,l(e("select",{class:"form-control form-control-md","onUpdate:modelValue":s=>t.momentDePrise=s},ce,8,ne),[[f,t.momentDePrise]])])]),e("div",me,[e("div",pe,[_e,l(e("input",{type:"text",class:"form-control",id:"input1","onUpdate:modelValue":s=>t.dureeNombre=s},null,8,he),[[r,t.dureeNombre]])])]),e("div",ve,[e("div",be,[fe,l(e("select",{class:"form-control form-control-md","onUpdate:modelValue":s=>t.duree=s},xe,8,ge),[[f,t.duree]])])])])]))),128))])):D("",!0)])]),e("div",Ue,[De,e("button",{type:"submit",onClick:o[2]||(o[2]=t=>g(n.traitement)),class:"btn btn-primary"},"Modifier")])])],32)])]))}};export{Pe as default};
