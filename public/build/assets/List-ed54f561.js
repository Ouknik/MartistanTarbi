import{r as p,y as J,P as K,o as s,d as o,a as e,i as L,j as G,a3 as H,b,w as _,e as h,t as c,h as V,F as f,f as k,g as r,u as m,n as O,E as Q,s as W,J as z,C as X,D as Y}from"./app-e263ac0f.js";import{D as Z}from"./vue3-easy-data-table.es-1512132d.js";import ee from"./ListFactures-640dade6.js";import te from"./ListeReglements-c7f9a727.js";import se from"./AddReglement-980f3cdf.js";import oe from"./GestionRendezVous-70bf12a6.js";import ae from"./AddOperation-21a1ce70.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.min-40c7dc60.js";import"./index-ed97a630.js";import"./typeof-7fd5df1e.js";const a=i=>(X("data-v-c2a89e19"),i=i(),Y(),i),ie={class:"iq-card"},ne=a(()=>e("div",{class:"iq-card-header d-flex justify-content-between",style:{"background-color":"#ceebee"}},[e("div",{class:"iq-header-title"},[e("h5",{class:"card-title"},"Liste des patient")])],-1)),ce={class:"iq-card-body",style:{"min-height":"680px"}},de={class:"form-group d-flex col-md-6 col-lg-4"},re={class:"mt-4"},ue=a(()=>e("i",{class:"ri-profile-line"},null,-1)),_e={class:"mt-4"},he=a(()=>e("i",{class:"ri-user-line"},null,-1)),me={class:"mt-4"},ve=a(()=>e("i",{class:"ri-user-line"},null,-1)),pe={class:"mt-4"},be=a(()=>e("i",{class:"ri-calendar-2-line"},null,-1)),ge={class:"mt-4"},ye=a(()=>e("i",{class:"ri-money-dollar-circle-line"},null,-1)),fe={class:"mb-3"},ke=a(()=>e("i",{class:"ri-settings-4-line"},null,-1)),xe={class:"row"},we={class:"col-lg-2 col-md-6"},Pe=["onClick"],Ce=a(()=>e("i",{class:"ri-checkbox-circle-line font-size-16"},null,-1)),Re=[Ce],Ve={class:"col-lg-2 col-md-6"},ze=["onClick"],Ae=a(()=>e("i",{class:"ri-eye-line"},null,-1)),je=[Ae],Me={class:"col-lg-2 col-md-6"},$e=["onClick"],qe=a(()=>e("i",{class:"ri-calendar-line text-white"},null,-1)),Le=[qe],Oe={class:"col-lg-2 col-md-6"},De=["onClick"],Fe=a(()=>e("i",{class:"ri-hospital-line text-white"},null,-1)),Se=[Fe],Te={class:"col-lg-2 col-md-6"},Ue=["disabled","onClick"],Ne=a(()=>e("i",{class:"ri-add-fill"},null,-1)),Be=[Ne],Ee={key:0,class:"text-success font-weight-bold text-center"},Ie={class:"text-secondary font-weight-bold"},Je=a(()=>e("br",null,null,-1)),Ke={class:"text-primary"},Ge={key:1,class:"text-dark font-weight-bold"},He={hidden:""},Qe={class:"text-center"},We={key:0},Xe={hidden:""},Ye={key:1},Ze=a(()=>e("i",{style:{"font-size":"25px"},class:"ri-close-circle-line text-danger"},null,-1)),et=[Ze],tt={key:2},st=a(()=>e("i",{style:{"font-size":"25px"},class:"ri-check-double-line text-success"},null,-1)),ot=[st],at={key:0,class:"iq-bg-success text-primary rounded"},lt=a(()=>e("a",{href:""},"Aucun patient avec les données saisie",-1)),it={class:"row"},nt={class:"col-lg-12 text-center"},ct={style:{"min-width":"100%"}},dt=["disabled"],rt=a(()=>e("h5",{class:"text-white"},"Precedent",-1)),ut=[rt],_t=["onClick"],ht=["disabled"],mt=a(()=>e("h5",{class:"text-white"},"Suivant",-1)),vt=[mt],pt={class:"col-lg-12 text-center"},bt={class:"font-weight-bold text-primary",style:{"font-size":"18px"}},gt={key:0,class:"modal-overlay"},yt={key:0,class:"modal-dialog",role:"document"},ft={class:"modal-content",style:{"background-color":"#eff7f8"}},kt=a(()=>e("h5",{class:"modal-title text-white"},"Liste d'attente",-1)),xt=a(()=>e("span",{"aria-hidden":"true"},"×",-1)),wt=[xt],Pt={class:"modal-body"},Ct={class:"row text-center"},Rt={key:0,class:"col-lg-12",style:{"font-size":"20px",color:"black","font-weight":"bold"}},Vt={key:0,hidden:""},zt={key:1,class:"row text-center"},At=a(()=>e("div",{class:"col-lg-12 mt-4 text-danger font-size-16 font-weight-bold"}," Veuillez Selectionner Le Motif De Visite ",-1)),jt=[At],Mt={key:2,class:"row mt-3"},$t={class:"iq-card border border-primary",style:{"min-height":"190px"}},qt={class:"iq-card-body text-center"},Lt={class:"doc-profile"},Ot=["src"],Dt={class:"iq-doc-info mt-3"},Ft={style:{"font-weight":"bold"}},St={key:3,class:"row mt-2"},Tt={class:"col-sm-6 col-md-3 col-lg-12"},Ut={class:"iq-card border border-primary"},Nt={class:"row ml-2"},Bt={class:"custom-control custom-radio custom-radio-color-checked custom-control-inline"},Et=["id","value"],It=["for"],Jt=a(()=>e("div",{class:"row text-center mb-2"},[e("div",{class:"col-lg-12 text-dark font-size-16 font-weight-bold"}," Motif de Consultation ")],-1)),Kt={class:"modal-dialog modal-lg",role:"reglement"},Gt={class:"modal-content"},Ht={class:"modal-header bg-secondary"},Qt={key:0,class:"modal-title text-white"},Wt=a(()=>e("i",{class:"fas fa-notes-medical"},null,-1)),Xt=a(()=>e("span",{"aria-hidden":"true"},"×",-1)),Yt=[Xt],Zt={key:0,class:"modal-body"},es={class:"nav nav-pills nav-fill mb-3",id:"myTab",role:"tablist"},ts=a(()=>e("li",{class:"nav-item"},[e("a",{class:"nav-link active",id:"patientFactures-tab","data-toggle":"pill",href:"#patientFactures",role:"tab","aria-controls":"patientFactures","aria-selected":"true"},[e("i",{class:"fas fa-file-invoice"}),h("Factures")])],-1)),ss=a(()=>e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"patientReglement-tab","data-toggle":"pill",href:"#patientReglement",role:"tab","aria-controls":"patientReglement","aria-selected":"false"},[e("i",{class:"ri-pass-valid-fill text-dark"}),h("Règlement")])],-1)),os={key:0,class:"nav-item"},as=a(()=>e("a",{class:"nav-link",id:"ajouterReglement-tab","data-toggle":"pill",href:"#ajouterReglement",role:"tab","aria-controls":"ajouterReglement","aria-selected":"false"},[e("i",{class:"ri-pass-valid-line"}),h(" Ajouter Règlement")],-1)),ls=[as],is={class:"tab-content",id:"myTabContent"},ns={key:0,class:"tab-pane fade show active",id:"patientFactures",role:"tabpanel","aria-labelledby":"patientFactures-tab"},cs={key:1,class:"tab-pane fade",id:"patientReglement",role:"tabpanel","aria-labelledby":"patientReglement-tab"},ds={key:2,class:"tab-pane fade",id:"ajouterReglement",role:"tabpanel","aria-labelledby":"ajouterReglement-tab"},rs=a(()=>e("i",{class:"ri-pass-valid-fill"},null,-1)),us={__name:"List",props:{items:Object,formatedDate:"",docteurs:Object,motifVisite:Object,cliniques:Object,typeOperations:Object},setup(i){const g=p(""),D=p(["nomPatient","prenomPatient","cinPatient"]),l=p(null),C=p(null),x=p(null),v=i,F=n=>{z.get(route("patients.show",n))},S=[{text:"CIN",value:"cinPatient",sortable:!0},{text:"Nom",value:"nomPatient",sortable:!0},{text:"Prénom",value:"prenomPatient",sortable:!0},{text:"Rendez-Vous",value:"docteurs"},{text:"Reglement",value:"reglement"},{text:"Opération",value:"operation"}],w=async n=>{try{let u=`patients?page=${n}`;g.value&&(u+=`&query=${g.value}`),z.visit(u,{method:"get",preserveScroll:!0,preserveState:!0})}catch(u){console.error("Erreur lors du chargement de la page :",u)}},T=()=>{v.items.current_page>1&&(v.items.current_page-=1,w(v.items.current_page))},U=()=>{v.items.current_page<v.items.last_page&&(v.items.current_page+=1,w(v.items.current_page))},A=async()=>{try{const n=await z.visit(`/patients?query=${g.value}`,{method:"get",preserveScroll:!0,preserveState:!0})}catch(n){console.error("Erreur lors de la recherche des patients :",n)}};J(g,n=>{n||w(1)});const N=n=>{l.value=n,C.value.style.display="block"},j=()=>{C.value.style.display="none",l.value=null,y.statePatient=""},B=n=>{l.value=n,x.value.style.display="block"},R=n=>{x.value&&l.value&&(x.value.style.display="none",l.value=null)},M=()=>{R()};window.addEventListener("reglementAdded",M);let $=p({});const E=n=>{$.value=n};let q=p({});const I=n=>{q.value=n},y=K({statePatient:""});return(n,u)=>(s(),o(f,null,[e("div",ie,[ne,e("div",ce,[e("div",de,[L(e("input",{type:"search",class:"form-control",placeholder:"Chercher patient",id:"cherechePatient","onUpdate:modelValue":u[0]||(u[0]=t=>g.value=t),onKeyup:u[1]||(u[1]=H(t=>A(),["enter"]))},null,544),[[G,g.value]]),e("input",{onClick:u[2]||(u[2]=t=>A()),type:"button",value:"Recherche",class:"btn btn-primary ml-4"})]),b(m(Z),{"buttons-pagination":"",items:i.items.data,headers:S,"hide-footer:search-field":D.value,"rows-per-page":i.items?i.items.perPage:10,"hide-footer":!0,alternating:"","table-class-name":"customize-table"},{"header-cinPatient":_(t=>[e("div",re,[ue,h(" "+c(t.text.toUpperCase()),1)])]),"header-nomPatient":_(t=>[e("div",_e,[he,h(" "+c(t.text.toUpperCase()),1)])]),"header-prenomPatient":_(t=>[e("div",me,[ve,h(" "+c(t.text.toUpperCase()),1)])]),"header-docteurs":_(t=>[e("div",pe,[be,h(" "+c(t.text.toUpperCase()),1)])]),"header-reglement":_(t=>[e("div",ge,[ye,h(" "+c(t.text.toUpperCase()),1)])]),"header-operation":_(t=>[e("div",fe,[ke,h(" "+c(t.text.toUpperCase()),1)])]),"item-operation":_(t=>[e("div",xe,[e("div",we,[e("button",{type:"button",class:"btn btn-secondary",title:"Ajouter à la Liste d'attente",onClick:V(d=>B(t),["prevent"])},Re,8,Pe)]),e("div",Ve,[e("button",{onClick:V(d=>F(t),["prevent"]),class:"btn btn-info",title:"Details Patient"},je,8,ze)]),e("div",Me,[e("button",{type:"button","data-toggle":"modal",onClick:d=>E(t),"data-value":"{{item}}","data-target":"#ModalAddRendezVous",class:"btn btn-warning"},Le,8,$e)]),e("div",Oe,[e("button",{type:"button","data-toggle":"modal",onClick:d=>I(t),"data-value":"{{item}}","data-target":"#ModalAddOperation",class:"btn",style:{"background-color":"#d2bed8"}},Se,8,De)]),e("div",Te,[e("button",{disabled:t.isActive=0,type:"button",class:"btn btn-primary",title:"Ajouter à la Liste d'attente",onClick:V(d=>N(t),["prevent"])},Be,8,Ue)])])]),"item-docteurs":_(t=>[t.rendez_vous.length>0?(s(),o("span",Ee,[e("span",Ie,[h(c(t.rendez_vous[0].dateRendezVous),1),Je]),e("span",Ke,"Dr. "+c(t.rendez_vous[0].docteur.name),1)])):(s(),o("span",Ge," Aucun Rendez-Vous "))]),"item-reglement":_(t=>[e("span",He,c(n.total=0),1),e("div",Qe,[t.TotalByDoctor!=null?(s(),o("div",We,[(s(!0),o(f,null,k(t.TotalByDoctor,(d,P)=>(s(),o("div",{key:P},[e("span",Xe,c(n.total=+d.total_factures-d.total_reglements),1)]))),128))])):r("",!0),n.total!=0?(s(),o("span",Ye,et)):(s(),o("span",tt,ot))])]),"item-rendezVous":_(t=>[(s(!0),o(f,null,k(t.rendez_vous,d=>(s(),o("div",{class:"row",key:d.id},[i.formatedDate<d.dateRendezVous?(s(),o("span",at,c(d.dateRendezVous),1)):r("",!0)]))),128))]),"empty-message":_(()=>[lt]),_:1},8,["items","hide-footer:search-field","rows-per-page"]),e("div",it,[e("div",nt,[e("div",ct,[e("button",{class:"btn btn-primary",onClick:T,disabled:i.items.current_page==1},ut,8,dt),(s(!0),o(f,null,k(i.items.links,(t,d)=>(s(),o("span",{key:t.label},[d!==0&&d!==i.items.links.length-1&&t.url!==null?(s(),o("button",{key:0,onClick:P=>w(t.label),class:O({"m-2 btn":!0,"btn-danger text-white":t.label==i.items.current_page})},[e("h5",{class:O({"m-2":!0,"text-white":t.label==i.items.current_page})},c(t.label),3)],10,_t)):r("",!0)]))),128)),e("button",{class:"btn btn-primary",onClick:U,disabled:i.items.last_page==i.items.current_page},vt,8,ht)])]),e("div",pt,[e("span",bt," Total Patients : "+c(i.items.total),1)])])])]),l.value?(s(),o("div",gt)):r("",!0),e("div",{class:"modal",tabindex:"-1",role:"dialog",ref_key:"addListAttModal",ref:C},[l.value?(s(),o("div",yt,[e("div",ft,[e("div",{class:"modal-header bg-secondary"},[kt,e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:j},wt)]),e("div",Pt,[e("div",Ct,[l.value?(s(),o("div",Rt," Patient : "+c(l.value.nomPatient+" "+l.value.prenomPatient),1)):r("",!0)]),l.value?(s(),o("span",Vt,c(n.idP=l.value.id),1)):r("",!0),m(y).statePatient?r("",!0):(s(),o("div",zt,jt)),m(y).statePatient?(s(),o("div",Mt,[(s(!0),o(f,null,k(i.docteurs,t=>(s(),o("div",{class:"col-sm-6 col-md-3 col-lg-6",key:t.id},[e("div",$t,[b(m(Q),{href:"/patientsAtt/"+n.idP+"/"+t.id+"/"+m(y).statePatient,method:"put","preserve-scroll":"","preserve-state":"",onClick:j},{default:_(()=>[e("div",qt,[e("div",Lt,[e("img",{src:t.profile_photo_path,class:"img-fluid avatar-100",alt:"profile"},null,8,Ot)]),e("div",Dt,[e("h6",Ft,c(t.name),1)])])]),_:2},1032,["href"])])]))),128))])):r("",!0),l.value?(s(),o("div",St,[e("div",Tt,[e("div",Ut,[e("div",Nt,[(s(!0),o(f,null,k(i.motifVisite,(t,d)=>(s(),o("div",{class:"col-lg-4",key:t.id},[e("div",Bt,[L(e("input",{type:"radio",id:"customRadio-7-"+d,"onUpdate:modelValue":u[3]||(u[3]=P=>m(y).statePatient=P),name:"customRadio",value:t.motifVisite,class:"custom-control-input bg-danger"},null,8,Et),[[W,m(y).statePatient]]),e("label",{for:"customRadio-7-"+d,class:"custom-control-label"},c(t.motifVisite),9,It)])]))),128))])])])])):r("",!0),Jt])])])):r("",!0)],512),e("div",{class:"modal",tabindex:"-1",role:"dialog",ref_key:"ReglementModal",ref:x},[e("div",Kt,[e("div",Gt,[e("div",Ht,[l.value?(s(),o("h5",Qt,[Wt,h(" Factures / Reglements : "+c(l.value.nomPatient+" "+l.value.prenomPatient),1)])):r("",!0),e("button",{type:"button",onClick:R,class:"close","data-dismiss":"modal","aria-label":"Close"},Yt)]),l.value?(s(),o("div",Zt,[e("ul",es,[ts,ss,l.value?(s(),o("li",os,ls)):r("",!0)]),e("div",is,[l.value?(s(),o("div",ns,[b(ee,{items:l.value.factures},null,8,["items"])])):r("",!0),l.value?(s(),o("div",cs,[b(te,{items:l.value.reglement_facture},null,8,["items"])])):r("",!0),l.value?(s(),o("div",ds,[b(se,{motifVisite:i.motifVisite,items:l.value,onReglementAdded:M},null,8,["motifVisite","items"])])):r("",!0)])])):r("",!0),e("div",{class:"modal-footer"},[e("button",{onClick:R,type:"button",class:"btn btn-secondary","data-dismiss":"modal"},[rs,h(" Fermer ")])])])])],512),b(oe,{docteurs:i.docteurs,currentPatient:m($)},null,8,["docteurs","currentPatient"]),b(ae,{currentPatient:m(q),cliniques:i.cliniques,typeOperations:i.typeOperations},null,8,["currentPatient","cliniques","typeOperations"])],64))}},ws=le(us,[["__scopeId","data-v-c2a89e19"]]);export{ws as default};
