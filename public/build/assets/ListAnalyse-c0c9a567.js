import{y as k,q as $,H as C,p as w,o,d as n,a as e,n as c,I as p,g as h,z as A,r as y,F as b,f as g,t as m,b as _,w as f,e as v}from"./app-e263ac0f.js";import j from"./ViewFacture-80c20340.js";import{P as M}from"./main-ed727b8e.js";import L from"./AddAnalyses-7f8b64fc.js";import"./OrdonnanceAnalyses-43aafbb3.js";const O={class:"modal-content"},F={class:"modal-header color-template"},N={class:"modal-title"},S=e("span",{"aria-hidden":"true"},"×",-1),z=[S],B={class:"modal-body"},E={class:"modal-footer"},V=1050,I={__name:"ModalC",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"modal-xl"},closeable:{type:Boolean,default:!0},level:{type:Number,default:10}},emits:["close"],setup(s,{emit:r}){const t=s,l=i=>{i.stopPropagation(),t.closeable&&a("close")},a=r;k(()=>t.show,()=>{t.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const d=()=>{t.closeable&&a("close")},u=i=>{i.key==="Escape"&&t.show&&(i.stopPropagation(),d())};$(()=>document.addEventListener("keydown",u)),C(()=>{document.removeEventListener("keydown",u),document.body.style.overflow=null});const P=w(()=>({"modal-sm":"modal-sm","modal-md":"modal-md","modal-lg":"modal-lg","modal-xl":"modal-xl"})[t.maxWidth]);return(i,ke)=>s.show?(o(),n("div",{key:0,style:A({zIndex:V+s.level})},[e("div",{class:"modal-backdrop",onClick:l}),e("div",{class:c(["modal",{show:s.show}]),tabindex:"-1"},[e("div",{class:c(["modal-dialog",P.value])},[e("div",O,[e("div",F,[e("h5",N,[p(i.$slots,"title")]),s.closeable?(o(),n("button",{key:0,type:"button",class:"close",onClick:d},z)):h("",!0)]),p(i.$slots,"header"),e("div",B,[p(i.$slots,"default")]),e("div",E,[s.closeable?(o(),n("button",{key:0,type:"button",class:"btn btn-secondary",onClick:d}," Quitter ")):h("",!0),p(i.$slots,"footer")])])],2)],2)],4)):h("",!0)}},W={class:"tab-pane fade",id:"pills-analyses-fill",role:"tabpanel","aria-labelledby":"pills-analyses-tab-fill"},q={class:"text-right"},D={class:"row"},x={class:"col-sm-12"},T={class:"iq-card"},H={class:"iq-card-body"},Q={id:"table",class:"table-editable"},U={class:"table-responsive"},Z={class:"table table-bordered table-responsive-md table-striped text-center"},G=e("thead",null,[e("tr",null,[e("th",null,"Date"),e("th",null,"Détails Analyse"),e("th",null,"Aperçu & Impression")])],-1),J={class:"text-dark text-left",style:{"margin-top":"-10px"}},K={key:0},R={class:"text-danger text-left"},X=e("td",null,null,-1),Y={class:"d-flex justify-content-center"},ee={key:0,"aria-label":"Factures pagination"},te={class:"pagination"},se=["disabled"],ae=e("span",{"aria-hidden":"true"},"«",-1),le=e("span",{class:"sr-only"},"First",-1),oe=[ae,le],ne=["disabled"],ie=e("span",{"aria-hidden":"true"},"‹",-1),de=e("span",{class:"sr-only"},"Previous",-1),re=[ie,de],ce=["onClick","disabled"],ue=["disabled"],me=e("span",{"aria-hidden":"true"},"›",-1),be=e("span",{class:"sr-only"},"Next",-1),he=[me,be],pe=["disabled"],ge=e("span",{"aria-hidden":"true"},"»",-1),ye=e("span",{class:"sr-only"},"Last",-1),_e=[ge,ye],fe={class:"text-white modal-title"},ve={components:{FactureModal:j,Pagination:M},props:["data","errors"],data(){return{selectedFacture:null,perPage:10,currentPage:1}},computed:{paginatedConsultations(){const s=(this.currentPage-1)*this.perPage,r=s+this.perPage;return this.consultations.slice(s,r)},totalPages(){return Math.ceil(this.consultations.length/this.perPage)}},methods:{changePage(s){this.currentPage=s}}},Pe=Object.assign(ve,{__name:"ListAnalyse",props:{consultations:Object,patient:Object,familleanalyses:Object,sousAnalyses:Object},setup(s){const r=y(!1);return y(!1),(t,l)=>(o(),n(b,null,[e("div",W,[e("div",q,[e("button",{type:"button",class:"btn btn-outline-primary mb-1 mr-2 mt-0 text-black",onClick:l[0]||(l[0]=a=>r.value=!0)},"Ajouter Analyses")]),e("div",D,[e("div",x,[e("div",T,[e("div",H,[e("div",Q,[e("div",U,[e("table",Z,[G,e("tbody",null,[(o(!0),n(b,null,g(t.paginatedConsultations,a=>(o(),n("tr",{key:a.id},[e("td",null,m(a.dateConsultation),1),e("td",null,[(o(!0),n(b,null,g(a.analyse,d=>(o(),n("ul",{key:d.id},[e("li",J,m(d.nomAnalyse),1),(o(!0),n(b,null,g(a.sous_analyses,u=>(o(),n("ul",{key:u.id},[d.id==u.analyse_id?(o(),n("span",K,[e("li",R,m(u.nomSousAnalyse),1)])):h("",!0)]))),128))]))),128))]),X]))),128))])]),e("div",Y,[s.consultations.length>t.perPage?(o(),n("nav",ee,[e("ul",te,[e("li",{class:c(["page-item",{disabled:t.currentPage===1}])},[e("button",{class:"page-link",onClick:l[1]||(l[1]=a=>t.currentPage=1),disabled:t.currentPage===1,"aria-label":"First"},oe,8,se)],2),e("li",{class:c(["page-item",{disabled:t.currentPage===1}])},[e("button",{class:"page-link",onClick:l[2]||(l[2]=a=>t.currentPage-=1),disabled:t.currentPage===1,"aria-label":"Previous"},re,8,ne)],2),(o(!0),n(b,null,g(t.totalPages,a=>(o(),n("li",{class:c(["page-item",{active:t.currentPage===a}]),key:a},[e("button",{class:"page-link",onClick:d=>t.currentPage=a,disabled:t.currentPage===a},m(a),9,ce)],2))),128)),e("li",{class:c(["page-item",{disabled:t.currentPage===t.totalPages}])},[e("button",{class:"page-link",onClick:l[3]||(l[3]=a=>t.currentPage+=1),disabled:t.currentPage===t.totalPages,"aria-label":"Next"},he,8,ue)],2),e("li",{class:c(["page-item",{disabled:t.currentPage===t.totalPages}])},[e("button",{class:"page-link",onClick:l[4]||(l[4]=a=>t.currentPage=t.totalPages),disabled:t.currentPage===t.totalPages,"aria-label":"Last"},_e,8,pe)],2)])])):h("",!0)])])])])])])])]),_(I,{show:r.value,maxWidth:"modal-xl",onClose:l[5]||(l[5]=a=>r.value=!1)},{title:f(()=>[e("h5",fe,[v(" Spécifier les Analyses Pour "),e("span",null,m(s.patient.sexePatient==="Masculin"?"Mr":"Mme"),1),v(": "+m(s.patient.nomPatient+" "+s.patient.prenomPatient),1)])]),default:f(()=>[_(L,{familleanalyses:s.familleanalyses,sousAnalyses:s.sousAnalyses,patient:s.patient},null,8,["familleanalyses","sousAnalyses","patient"])]),_:1},8,["show"])],64))}}),Me=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"}));export{Me as L,Pe as _,I as a};
