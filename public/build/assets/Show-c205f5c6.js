import{o as d,d as l,b as x,u as e,X as V,w as _,a as t,n as i,E as g,e as u,t as s,F as M,f as z,g as B,J as p}from"./app-e263ac0f.js";import{u as D,_ as N}from"./SuperAdminLayout-931e23d9.js";const F={class:"mb-6"},H=t("li",{class:"text-gray-400"},"/",-1),E={class:"text-gray-600"},J={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},q={class:"lg:col-span-2 space-y-6"},I={class:"bg-white rounded-xl shadow-sm p-6"},O={class:"flex items-center justify-between mb-4"},R={class:"text-lg font-bold text-gray-800"},U={class:"grid grid-cols-2 gap-4"},X={class:"text-sm text-gray-500"},$={class:"font-medium text-gray-900"},G={class:"text-sm text-gray-500"},K={class:"font-medium text-gray-900"},P={class:"text-sm text-gray-500"},Q={class:"font-medium text-gray-900"},W={class:"text-sm text-gray-500"},Y={class:"font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},tt={class:"font-medium text-gray-900"},et={class:"text-sm text-gray-500"},st={class:"font-medium text-gray-900"},nt={class:"text-sm text-gray-500"},at={class:"font-medium text-gray-900"},it={class:"text-sm text-gray-500"},ot={class:"font-medium text-gray-900 font-mono text-sm"},dt={class:"bg-white rounded-xl shadow-sm p-6"},lt={class:"text-lg font-bold text-gray-800 mb-4"},rt={class:"overflow-x-auto"},ct={class:"w-full"},ut={class:"bg-gray-50"},mt={class:"divide-y divide-gray-200"},xt={class:"px-4 py-3 text-sm"},ht={class:"px-4 py-3 text-sm"},_t={class:"px-4 py-3 text-sm"},gt={class:"px-4 py-3 text-sm"},pt={class:"px-4 py-3"},yt={key:0},ft={colspan:"5",class:"px-4 py-4 text-center text-gray-500"},vt={class:"space-y-6"},bt={class:"bg-white rounded-xl shadow-sm p-6"},wt={class:"text-lg font-bold text-gray-800 mb-4"},kt={class:"text-center mb-4"},jt={class:"space-y-2 text-sm"},Ct={class:"flex justify-between"},Mt={class:"text-gray-500"},Bt={class:"font-medium"},Lt={key:0,class:"flex justify-between"},St={class:"text-gray-500"},At={class:"font-medium"},Tt={class:"bg-white rounded-xl shadow-sm p-6"},Vt={class:"text-lg font-bold text-gray-800 mb-4"},zt={class:"space-y-3"},Dt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},Nt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},Ft=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ht=[Ft],Et=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1),Jt=[Et],qt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1),It=[qt],Ut={__name:"Show",props:{tenant:Object,subscriptions:Array},setup(a){const{t:n,isRtl:r,currentLocale:y}=D(),m=a,L=()=>{p.post(route("superadmin.tenants.toggle-status",m.tenant.id))},S=()=>{const o=prompt(n("superadmin.extend_trial_days"),"7");o&&p.post(route("superadmin.tenants.extend-trial",m.tenant.id),{days:parseInt(o)})},A=()=>{confirm(n("superadmin.confirm_delete_clinic",{name:m.tenant.name||m.tenant.id}))&&p.delete(route("superadmin.tenants.destroy",m.tenant.id))},h=o=>{const f=y.value==="ar"?"ar-MA":y.value==="fr"?"fr-MA":"en-US";return new Date(o).toLocaleDateString(f)},T=o=>{switch(o){case"active":return n("superadmin.active");case"cancelled":return n("superadmin.cancelled");case"expired":return n("superadmin.expired");default:return o}};return(o,f)=>(d(),l(M,null,[x(e(V),{title:e(n)("superadmin.clinic")+": "+(a.tenant.name||a.tenant.id)},null,8,["title"]),x(N,{title:a.tenant.name||a.tenant.id},{default:_(()=>{var v,b,w,k;return[t("nav",F,[t("ol",{class:i(["flex items-center",e(r)?"space-x-2 space-x-reverse":"space-x-2"])},[t("li",null,[x(e(g),{href:o.route("superadmin.tenants.index"),class:"text-indigo-600 hover:text-indigo-800"},{default:_(()=>[u(s(e(n)("superadmin.manage_clinics")),1)]),_:1},8,["href"])]),H,t("li",E,s(a.tenant.name||a.tenant.id),1)],2)]),t("div",J,[t("div",q,[t("div",I,[t("div",O,[t("h3",R,s(e(n)("superadmin.clinic_info")),1),x(e(g),{href:o.route("superadmin.tenants.edit",a.tenant.id),class:"text-indigo-600 hover:text-indigo-800 text-sm"},{default:_(()=>[u(s(e(n)("superadmin.edit")),1)]),_:1},8,["href"])]),t("div",U,[t("div",null,[t("p",X,s(e(n)("superadmin.clinic_name")),1),t("p",$,s(a.tenant.name||"-"),1)]),t("div",null,[t("p",G,s(e(n)("superadmin.email")),1),t("p",K,s(a.tenant.email||"-"),1)]),t("div",null,[t("p",P,s(e(n)("superadmin.phone")),1),t("p",Q,s(a.tenant.phone||"-"),1)]),t("div",null,[t("p",W,s(e(n)("superadmin.domain")),1),t("p",Y,s(((b=(v=a.tenant.domains)==null?void 0:v[0])==null?void 0:b.domain)||"-"),1)]),t("div",null,[t("p",Z,s(e(n)("superadmin.address")),1),t("p",tt,s(a.tenant.address||"-"),1)]),t("div",null,[t("p",et,s(e(n)("superadmin.city")),1),t("p",st,s(a.tenant.city||"-"),1)]),t("div",null,[t("p",nt,s(e(n)("superadmin.registration_date")),1),t("p",at,s(h(a.tenant.created_at)),1)]),t("div",null,[t("p",it,s(e(n)("superadmin.database")),1),t("p",ot,s(a.tenant.tenancy_db_name),1)])])]),t("div",dt,[t("h3",lt,s(e(n)("superadmin.subscription_history")),1),t("div",rt,[t("table",ct,[t("thead",ut,[t("tr",null,[t("th",{class:i(["px-4 py-2 text-xs font-medium text-gray-500",e(r)?"text-right":"text-left"])},s(e(n)("superadmin.plan")),3),t("th",{class:i(["px-4 py-2 text-xs font-medium text-gray-500",e(r)?"text-right":"text-left"])},s(e(n)("superadmin.from")),3),t("th",{class:i(["px-4 py-2 text-xs font-medium text-gray-500",e(r)?"text-right":"text-left"])},s(e(n)("superadmin.to")),3),t("th",{class:i(["px-4 py-2 text-xs font-medium text-gray-500",e(r)?"text-right":"text-left"])},s(e(n)("superadmin.amount")),3),t("th",{class:i(["px-4 py-2 text-xs font-medium text-gray-500",e(r)?"text-right":"text-left"])},s(e(n)("superadmin.status")),3)])]),t("tbody",mt,[(d(!0),l(M,null,z(a.subscriptions,c=>{var j,C;return d(),l("tr",{key:c.id},[t("td",xt,s((j=c.plan)==null?void 0:j.name),1),t("td",ht,s(h(c.starts_at)),1),t("td",_t,s(h(c.ends_at)),1),t("td",gt,s((C=c.amount)==null?void 0:C.toLocaleString())+" "+s(e(n)("superadmin.currency")),1),t("td",pt,[t("span",{class:i(["px-2 py-1 text-xs rounded-full",{"bg-green-100 text-green-800":c.status==="active","bg-red-100 text-red-800":c.status==="cancelled","bg-gray-100 text-gray-800":c.status==="expired"}])},s(T(c.status)),3)])])}),128)),(w=a.subscriptions)!=null&&w.length?B("",!0):(d(),l("tr",yt,[t("td",ft,s(e(n)("superadmin.no_subscriptions")),1)]))])])])])]),t("div",vt,[t("div",bt,[t("h3",wt,s(e(n)("superadmin.status")),1),t("div",kt,[t("span",{class:i(["px-4 py-2 text-lg font-semibold rounded-full",a.tenant.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},s(a.tenant.is_active?e(n)("superadmin.active"):e(n)("superadmin.suspended")),3)]),t("div",jt,[t("div",Ct,[t("span",Mt,s(e(n)("superadmin.current_plan"))+":",1),t("span",Bt,s(((k=a.tenant.plan)==null?void 0:k.name)||"Free"),1)]),a.tenant.trial_ends_at?(d(),l("div",Lt,[t("span",St,s(e(n)("superadmin.trial_end_date"))+":",1),t("span",At,s(h(a.tenant.trial_ends_at)),1)])):B("",!0)])]),t("div",Tt,[t("h3",Vt,s(e(n)("superadmin.quick_actions")),1),t("div",zt,[t("button",{onClick:L,class:i(["w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors",a.tenant.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"])},[(d(),l("svg",{class:i(["w-5 h-5",e(r)?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a.tenant.is_active?(d(),l("path",Dt)):(d(),l("path",Nt))],2)),u(" "+s(a.tenant.is_active?e(n)("superadmin.suspend_clinic"):e(n)("superadmin.activate_clinic")),1)],2),t("button",{onClick:S,class:"w-full flex items-center justify-center px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors"},[(d(),l("svg",{class:i(["w-5 h-5",e(r)?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ht,2)),u(" "+s(e(n)("superadmin.extend_trial")),1)]),x(e(g),{href:o.route("superadmin.tenants.edit",a.tenant.id),class:"w-full flex items-center justify-center px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors"},{default:_(()=>[(d(),l("svg",{class:i(["w-5 h-5",e(r)?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Jt,2)),u(" "+s(e(n)("superadmin.edit_data")),1)]),_:1},8,["href"]),t("button",{onClick:A,class:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},[(d(),l("svg",{class:i(["w-5 h-5",e(r)?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},It,2)),u(" "+s(e(n)("superadmin.delete_clinic")),1)])])])])])]}),_:1},8,["title"])],64))}};export{Ut as default};
