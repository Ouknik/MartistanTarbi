import{r as y,y as O,o as r,d as c,b as p,u as t,X as P,w as x,a as e,t as i,E as _,n as a,e as R,i as b,j as X,v as N,F as f,f as w,g as U,c as q,J as k}from"./app-e263ac0f.js";import{u as G,_ as K}from"./SuperAdminLayout-931e23d9.js";const Q={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},W={class:"text-gray-500"},Y=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1),Z=[Y],ee={class:"bg-white rounded-xl shadow-sm p-6 mb-6"},te={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},se={class:"block text-sm font-medium text-gray-700 mb-2"},oe={class:"relative"},ie=["placeholder"],ae=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),ne=[ae],re={class:"block text-sm font-medium text-gray-700 mb-2"},le={value:""},de={value:"active"},ce={value:"inactive"},ue={value:"trial"},pe={class:"block text-sm font-medium text-gray-700 mb-2"},me={value:""},he=["value"],ge={class:"bg-white rounded-xl shadow-sm overflow-hidden"},xe={class:"overflow-x-auto"},_e={class:"w-full"},fe={class:"bg-gray-50"},ve={class:"bg-white divide-y divide-gray-200"},ye={class:"px-6 py-4 whitespace-nowrap"},be={class:"flex items-center"},we={class:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center"},ke={class:"text-indigo-600 font-bold"},Ce={class:"text-sm font-medium text-gray-900"},je={class:"text-sm text-gray-500"},Me={class:"px-6 py-4 whitespace-nowrap"},Be={class:"text-sm text-gray-900"},Ve={class:"px-6 py-4 whitespace-nowrap"},He={class:"px-6 py-4 whitespace-nowrap"},Le=["onClick"],Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Te={class:"px-6 py-4 whitespace-nowrap text-sm"},ze={class:"flex items-center gap-2"},Fe=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),Ae=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),De=["onClick","title"],Ne=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Ue=[Ne],Ee={key:0},$e={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},Ie={key:0,class:"px-6 py-4 border-t border-gray-200"},Je={class:"flex items-center justify-between"},Oe={class:"text-sm text-gray-500"},Pe={class:"flex gap-1"},qe={__name:"Index",props:{tenants:Object,plans:Array,filters:Object},setup(l){var C,j,M;const{t:o,isRtl:n}=G(),v=l,m=y(((C=v.filters)==null?void 0:C.search)||""),h=y(((j=v.filters)==null?void 0:j.status)||""),g=y(((M=v.filters)==null?void 0:M.plan_id)||""),E=()=>{k.get(route("superadmin.tenants.index"),{search:m.value,status:h.value,plan_id:g.value},{preserveState:!0,replace:!0})};O([m,h,g],()=>{E()},{debounce:300});const $=d=>{confirm(o("superadmin.confirm_delete_clinic",{name:d.name||d.id}))&&k.delete(route("superadmin.tenants.destroy",d.id))},I=d=>{k.post(route("superadmin.tenants.toggle-status",d.id))};return(d,u)=>(r(),c(f,null,[p(t(P),{title:t(o)("superadmin.manage_clinics")},null,8,["title"]),p(K,{title:t(o)("superadmin.manage_clinics")},{default:x(()=>{var B,V;return[e("div",Q,[e("div",null,[e("p",W,i(t(o)("superadmin.manage_clinics_desc")),1)]),p(t(_),{href:d.route("superadmin.tenants.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},{default:x(()=>[(r(),c("svg",{class:a(["w-5 h-5",t(n)?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z,2)),R(" "+i(t(o)("superadmin.add_clinic")),1)]),_:1},8,["href"])]),e("div",ee,[e("div",te,[e("div",null,[e("label",se,i(t(o)("superadmin.search")),1),e("div",oe,[b(e("input",{"onUpdate:modelValue":u[0]||(u[0]=s=>m.value=s),type:"text",placeholder:t(o)("superadmin.search_placeholder"),class:a(["block w-full py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",t(n)?"pr-10 pl-4":"pl-10 pr-4"])},null,10,ie),[[X,m.value]]),e("div",{class:a(["absolute inset-y-0 flex items-center pointer-events-none",t(n)?"right-0 pr-3":"left-0 pl-3"])},ne,2)])]),e("div",null,[e("label",re,i(t(o)("superadmin.status")),1),b(e("select",{"onUpdate:modelValue":u[1]||(u[1]=s=>h.value=s),class:"block w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[e("option",le,i(t(o)("superadmin.all")),1),e("option",de,i(t(o)("superadmin.active")),1),e("option",ce,i(t(o)("superadmin.suspended")),1),e("option",ue,i(t(o)("superadmin.trial")),1)],512),[[N,h.value]])]),e("div",null,[e("label",pe,i(t(o)("superadmin.plan")),1),b(e("select",{"onUpdate:modelValue":u[2]||(u[2]=s=>g.value=s),class:"block w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[e("option",me,i(t(o)("superadmin.all")),1),(r(!0),c(f,null,w(l.plans,s=>(r(),c("option",{key:s.id,value:s.id},i(s.name),9,he))),128))],512),[[N,g.value]])])])]),e("div",ge,[e("div",xe,[e("table",_e,[e("thead",fe,[e("tr",null,[e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.clinic")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.domain")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.plan")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.status")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.registration_date")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(n)?"text-right":"text-left"])},i(t(o)("superadmin.actions")),3)])]),e("tbody",ve,[(r(!0),c(f,null,w(l.tenants.data,s=>{var H,L,S,T,z,F,A,D;return r(),c("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",ye,[e("div",be,[e("div",we,[e("span",ke,i(((H=s.name)==null?void 0:H.charAt(0))||"C"),1)]),e("div",{class:a(t(n)?"mr-4":"ml-4")},[e("div",Ce,i(s.name||s.id),1),e("div",je,i(s.email||"-"),1)],2)])]),e("td",Me,[e("span",Be,i(((S=(L=s.domains)==null?void 0:L[0])==null?void 0:S.domain)||"-"),1)]),e("td",Ve,[e("span",{class:a(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-gray-100 text-gray-800":((T=s.plan)==null?void 0:T.name)==="Free","bg-blue-100 text-blue-800":((z=s.plan)==null?void 0:z.name)==="Basic","bg-purple-100 text-purple-800":((F=s.plan)==null?void 0:F.name)==="Pro","bg-yellow-100 text-yellow-800":((A=s.plan)==null?void 0:A.name)==="Enterprise"}])},i(((D=s.plan)==null?void 0:D.name)||"Free"),3)]),e("td",He,[e("button",{onClick:J=>I(s),class:a(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full cursor-pointer transition-colors",s.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"])},i(s.is_active?t(o)("superadmin.active"):t(o)("superadmin.suspended")),11,Le)]),e("td",Se,i(new Date(s.created_at).toLocaleDateString(t(n)?"ar-MA":"en-US")),1),e("td",Te,[e("div",ze,[p(t(_),{href:d.route("superadmin.tenants.show",s.id),class:"text-indigo-600 hover:text-indigo-900",title:t(o)("superadmin.view")},{default:x(()=>[Fe]),_:2},1032,["href","title"]),p(t(_),{href:d.route("superadmin.tenants.edit",s.id),class:"text-yellow-600 hover:text-yellow-900",title:t(o)("superadmin.edit")},{default:x(()=>[Ae]),_:2},1032,["href","title"]),e("button",{onClick:J=>$(s),class:"text-red-600 hover:text-red-900",title:t(o)("superadmin.delete")},Ue,8,De)])])])}),128)),(B=l.tenants.data)!=null&&B.length?U("",!0):(r(),c("tr",Ee,[e("td",$e,i(t(o)("superadmin.no_tenants")),1)]))])])]),((V=l.tenants.links)==null?void 0:V.length)>3?(r(),c("div",Ie,[e("div",Je,[e("div",Oe,i(t(o)("superadmin.showing_results",{from:l.tenants.from,to:l.tenants.to,total:l.tenants.total})),1),e("div",Pe,[(r(!0),c(f,null,w(l.tenants.links,s=>(r(),q(t(_),{key:s.label,href:s.url,class:a(["px-3 py-2 text-sm rounded-lg",s.active?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200",!s.url&&"opacity-50 cursor-not-allowed"]),innerHTML:s.label,disabled:!s.url},null,8,["href","class","innerHTML","disabled"]))),128))])])])):U("",!0)])]}),_:1},8,["title"])],64))}};export{qe as default};
