import{P as h,p as g,x as v,o as b,d as x,a as e,h as D,i as c,j as l,u as n,e as C,J as y}from"./app-e263ac0f.js";import{i as d}from"./index.min-40c7dc60.js";const w={class:"modal fade",id:"AddCertificatGrossesse",tabindex:"-1",role:"dialog",style:{display:"none"},"aria-hidden":"true"},G={class:"modal-dialog modal-lg"},S={class:"modal-content"},T=e("div",{class:"modal-header bg-secondary"},[e("h5",{class:"modal-title text-white"},"Ajouter Certificat Grossesse "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),j={class:"modal-body"},A={class:"row"},M={class:"col-lg-6"},B=e("label",{for:"exampleInputdate"},"Date Certificat",-1),P={class:"row"},V={class:"col-lg-12"},E={class:"form-group"},F=e("label",{for:"exampleFormControlTextarea1"},"Contenu",-1),k=e("div",null,null,-1),I={class:"row"},J={class:"col-lg-6 ml-auto text-right"},q={class:"form-group"},N={type:"submit",class:"btn mb-3 btn-primary",style:{height:"50px",width:"100px"}},O=["disabled"],Y={__name:"CreateCertificatGrossesse",props:{patient:Object,docteur:Object,DateGrossesse:String},setup(u){const r=u,m=()=>{const o=new Date,s=o.getFullYear();let t=o.getMonth()+1,i=o.getDate();return t=t<10?`0${t}`:t,i=i<10?`0${i}`:i,`${s}-${t}-${i}`},a=h({typeCertificat:"Certificat Grossesse",contenu:"",patient_id:r.patient.id,dateCertificat:m()}),p=g(()=>{const o=new Date(r.DateGrossesse),t=new Date-o,i=1e3*60*60*24,_=Math.floor(t/i);return Math.floor(_/30)});v(()=>{a.contenu=`Je, soussigné Dr. ${r.docteur.name} ceritife 
Que ${r.patient.civilitePatient}. ${r.patient.prenomPatient} ${r.patient.nomPatient}. est enceinte d'une Grossesse estimée Cliniquement à ${p.value} Mois.
Certificat délivré à l'intéressée pour servir et valoir ce que de droit`});const f=()=>{let o={...a};o.contenu=a.contenu.replace(/\n/g,"<br>"),y.visit("/certificats",{method:"post",data:o,preserveState:!0,preserveScroll:!1,errorBag:null,forceFormData:!0,onProgress:s=>{},onSuccess:s=>{d.useToast().success("Certificat Bien Ajouter",{position:"bottom-right",duration:3e3}),$("#AddCertificatGrossesse").modal("hide")},onError:s=>{d.useToast().error("Veuillez remplir tout les champs",{position:"bottom-right",duration:3e3})}})};return(o,s)=>(b(),x("div",w,[e("div",G,[e("div",S,[e("form",{onSubmit:D(f,["prevent"])},[T,e("div",j,[e("div",A,[e("div",M,[B,c(e("input",{type:"date",class:"form-control my-2",id:"exampleInputdate","onUpdate:modelValue":s[0]||(s[0]=t=>n(a).dateCertificat=t)},null,512),[[l,n(a).dateCertificat]])])]),e("div",P,[e("div",V,[e("div",E,[F,c(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=t=>n(a).contenu=t),class:"form-control text-dark",id:"exampleFormControlTextarea1",rows:"5"},`
                                `,512),[[l,n(a).contenu]])])])]),k,e("div",I,[e("div",J,[e("div",q,[e("button",N,[e("i",{class:"ri-bill-fill",disabled:n(a).processing},null,8,O),C("Ajouter ")])])])])])],32)])])]))}};export{Y as default};
