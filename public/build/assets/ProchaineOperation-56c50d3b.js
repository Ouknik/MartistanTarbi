import{r as _,p as F,o as n,d as i,a as e,i as u,j as b,v as f,F as g,f as w,t as r,b as A,w as d,e as p,h as x,n as N,g as m,u as E,J as P,C as $,D as j}from"./app-e263ac0f.js";import{_ as V}from"./filter-f877a4dd.js";import{D as B}from"./vue3-easy-data-table.es-1512132d.js";import{i as q}from"./index.min-40c7dc60.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const a=v=>($("data-v-77d1e85a"),v=v(),j(),v),L={class:"mt-3 mb-0 row"},J=a(()=>e("label",{for:"html5-search-input",class:"col-lg-0 col-form-label ml-4 mb-3 mt-2"},"Recherche :",-1)),H={class:"col-lg-5"},K=a(()=>e("div",{class:"col-lg-2 ml-3 mt-3"},[e("img",{src:V,class:"filter-icon",style:{width:"20px",height:"20px"}}),e("span",{class:"font-size-16 ml-2"},"Filtrer Par Clinique")],-1)),G={class:"col-lg-4"},Q={class:"col-form-label"},W=a(()=>e("option",{value:"all"},"Tout Les Cliniques",-1)),X=["value"],Y={class:"col-lg-12 p-4"},Z=a(()=>e("a",{href:""},"Aucune opération",-1)),ee={key:0},te={key:1},oe=["onClick"],se=a(()=>e("i",{class:"ri-file-edit-fill"},null,-1)),ae=[se],le=["onClick"],ne=a(()=>e("i",{class:"ri-delete-bin-2-fill text-white"},null,-1)),ie=[ne],re={class:"dropdown"},de={style:{padding:"15px","font-size":"20px"}},ce=a(()=>e("span",null,"Clinique :",-1)),ue=a(()=>e("span",null,"Type :",-1)),pe=a(()=>e("span",null,"Description : ",-1)),me={class:"filter-column"},_e={key:0,class:"filter-menu filter-sport-menu"},ve=a(()=>e("option",{value:"all"},"all",-1)),he=["value"],be={key:0,class:"modal-overlay"},fe={class:"modal-dialog",role:"document"},ge={class:"modal-content",style:{"background-color":"#eff7f8"}},xe={key:0,class:"modal-header",style:{"background-color":"#ceebee"}},ye={class:"modal-title text-black"},Oe=a(()=>e("span",{"aria-hidden":"true"},"×",-1)),ke=[Oe],we={class:"modal-body"},Ce={key:0,class:"row"},Pe={class:"col-md-4 col-lg-6"},qe=a(()=>e("label",{class:"control-label align-self-center mb-1"},[e("span",{style:{color:"red","font-size":"1.5em"}},"* "),e("span",{style:{"font-size":"18px",color:"black","font-weight":"bold"}},"Etat Opération :")],-1)),Ve=a(()=>e("option",{value:"Validée"},"Validée",-1)),Se=a(()=>e("option",{value:"Annuler"},"Annulée",-1)),Te=a(()=>e("option",{value:"Reporter"},"Reporter",-1)),Ue=a(()=>e("option",{value:"Programmer"},"Programmer",-1)),ze=[Ve,Se,Te,Ue],Ie={class:"col-lg-6",style:{"font-size":"15px",color:"black","font-weight":"bold"}},Me={class:"form-group"},De=a(()=>e("label",{class:"control-label align-self-center mb-1"},[e("span",{style:{color:"red","font-size":"1.5em"}},"* "),e("span",{style:{"font-size":"18px",color:"black","font-weight":"bold"}},"Montant Payé :")],-1)),Fe={class:"row"},Ae={key:0,class:"col-lg-6",style:{"font-size":"15px",color:"black","font-weight":"bold"}},Ne={class:"form-group"},Ee=a(()=>e("label",{for:"exampleInputText1"},"Opération ",-1)),$e={key:1,class:"col-lg-6",style:{"font-size":"15px",color:"black","font-weight":"bold"}},je={class:"form-group"},Be=a(()=>e("label",{for:"exampleInputText1"},"Prix Opération ",-1)),Re={class:"row"},Le={key:0,class:"col-lg-6",style:{"font-size":"15px",color:"black","font-weight":"bold"}},Je={class:"form-group"},He=a(()=>e("label",{for:"exampleInputdate"},"Date ",-1)),Ke={key:1,class:"col-lg-6",style:{"font-size":"15px",color:"black","font-weight":"bold"}},Ge={class:"form-group"},Qe=a(()=>e("label",{for:"exampleInputText1"},"Clinique ",-1)),We=["value"],Xe={key:1,class:"row"},Ye={class:"col-lg-12"},Ze={class:"form-group"},et=a(()=>e("label",{for:"exampleFormControlTextarea1"},"Description de l'opération : ",-1)),tt=a(()=>e("div",{class:"row m-4"},[e("div",{class:"col-lg-12"})],-1)),ot={class:"modal-footer"},st={__name:"ProchaineOperation",props:{patients:Object,ProchaineOperations:Object,items:Object,cliniques:Object,operations:Object},setup(v){const y=_(""),s=_(null),S=_(["nomOperation","patient.nomPatient","patient.prenomPatient","patient.cinPatient","clinique.nomClinique","prixOperation"]);_(new Date);const O=_(null),h=_("all"),C=_(""),T=F(()=>{const l=[];return h.value!=="all"&&l.push({field:"clinique.nomClinique",comparison:"=",criteria:h.value}),C.value&&l.push({field:"patient.assurance.typeAssurance",comparison:"=",criteria:C.value}),l}),U=[{text:"CIN",value:"cinPatient",sortable:!0},{text:"Nom",value:"nomPatient",sortable:!0},{text:"Prénom",value:"prenomPatient",sortable:!0},{text:"Assurance",value:"typeAssurance",sortable:!0},{text:"Date Opération",value:"dateOperation",sortable:!0},{text:"Prix Operation",value:"prixOperation",sortable:!0},{text:"Prix Payée",value:"MontantValideeOperation",sortable:!0},{text:"Etat",value:"etatOperation",sortable:!0},{text:"Operation",value:"Operation",sortable:!0}],z=l=>{switch(l){case"Validée":return"btn-success";case"Annuler":return"btn-danger";case"Programmer":return"btn-warning";case"Reporter":return"btn-info";default:return"btn-dark"}},I=l=>{s.value=l,O.value.style.display="block"},k=()=>{O.value.style.display="none",s.value=null},M=l=>{P.visit(`/operations/${l.id}`,{method:"PUT",data:l,preserveState:!0,preserveScroll:!0,errorBag:null,preserveState:!0,preserveScroll:!0,onSuccess:o=>{q.useToast().success("Opération Modifier",{position:"bottom-right",duration:3e3}),k()}})},D=l=>{P.delete(`/operations/${l.id}`,{preserveState:!0,preserveScroll:!0,data:l,onProgress:o=>{},onSuccess:o=>{q.useToast().success("Operation Supprimer",{position:"bottom-right",duration:3e3})},onError:o=>{alert("Erreurs")}})};return(l,o)=>(n(),i(g,null,[e("div",L,[J,e("div",H,[u(e("input",{class:"form-control mt-2",type:"search",id:"html5-search-input","onUpdate:modelValue":o[0]||(o[0]=t=>y.value=t)},null,512),[[b,y.value]])]),K,e("div",G,[e("div",Q,[u(e("select",{class:"form-control form-control-md","onUpdate:modelValue":o[1]||(o[1]=t=>h.value=t),name:"favouriteSport"},[W,(n(!0),i(g,null,w(l.$page.props.cliniques,t=>(n(),i("option",{key:t.id,value:t.nomClinique},r(t.nomClinique),9,X))),128))],512),[[f,h.value]])])])]),e("div",Y,[A(E(B),{"buttons-pagination":"",items:v.items,headers:U,"filter-options":T.value,"search-value":y.value,"search-field":S.value,"rows-per-page":10,alternating:"","table-class-name":"customize-table"},{"empty-message":d(()=>[Z]),"item-cinPatient":d(t=>[p(r(t.patient.cinPatient),1)]),"item-nomPatient":d(t=>[p(r(t.patient.nomPatient),1)]),"item-prenomPatient":d(t=>[p(r(t.patient.prenomPatient),1)]),"item-typeAssurance":d(t=>[p(r(t.patient.assurance.typeAssurance),1)]),"item-prixOperation":d(t=>[t.prixOperation!=null?(n(),i("span",ee,r(t.prixOperation+" DH"),1)):(n(),i("span",te," Non Spécifié "))]),"item-Operation":d(t=>[e("button",{type:"button",class:"btn m-2",style:{"background-color":"#ceebee"},onClick:x(c=>I(t),["prevent"])},ae,8,oe),e("button",{type:"button",class:"btn m-2",style:{"background-color":"#d9130f"},onClick:x(c=>D(t),["prevent"])},ie,8,le)]),"item-etatOperation":d(t=>[e("div",re,[e("button",{class:N(["btn fixed-width-btn",z(t.etatOperation)]),type:"button",id:"statusDropdown","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r(t.etatOperation),3)])]),"item-nomClinique":d(t=>[p(r(t.clinique.nomClinique),1)]),expand:d(t=>[e("div",de,[e("ul",null,[e("li",null,[ce,p(" "+r(t.clinique.nomClinique),1)]),e("li",null,[ue,p(" "+r(t.nomOperation),1)]),e("li",null,[pe,p(r(t.descriptionOperation),1)])])])]),"header-nomClinique":d(t=>[e("div",me,[e("img",{src:V,class:"filter-icon",style:{height:"20px",width:"20px"},onClick:o[2]||(o[2]=x(c=>l.showFavouriteCliniqueFilter=!l.showFavouriteCliniqueFilter,["stop"]))}),p(" "+r(t.text)+" ",1),l.showFavouriteCliniqueFilter?(n(),i("div",_e,[u(e("select",{class:"select2-icons form-select","onUpdate:modelValue":o[3]||(o[3]=c=>h.value=c),name:"favouriteClinique"},[ve,(n(!0),i(g,null,w(l.$page.props.cliniques,c=>(n(),i("option",{key:c.id,value:c.nomClinique},r(c.nomClinique),9,he))),128))],512),[[f,h.value]])])):m("",!0)])]),_:1},8,["items","filter-options","search-value","search-field"])]),s.value?(n(),i("div",be)):m("",!0),e("div",{class:"modal",tabindex:"-1",role:"dialog",ref_key:"UpdateOperationModal",ref:O,id:"updateOperation"},[e("form",{onSubmit:o[12]||(o[12]=x((...t)=>l.submit&&l.submit(...t),["prevent"]))},[e("div",fe,[e("div",ge,[s.value?(n(),i("div",xe,[e("h5",ye," Modifier Opération : "+r(s.value.patient.nomPatient+" "+s.value.patient.prenomPatient),1),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:k},ke)])):m("",!0),e("div",we,[s.value?(n(),i("div",Ce,[e("div",Pe,[qe,u(e("select",{name:"assurance_id","onUpdate:modelValue":o[4]||(o[4]=t=>s.value.etatOperation=t),class:"form-control bg-white",id:"assurance_id",required:""},ze,512),[[f,s.value.etatOperation]])]),e("div",Ie,[e("div",Me,[De,u(e("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=t=>s.value.MontantValideeOperation=t),class:"form-control bg-white",id:"exampleInputText1"},null,512),[[b,s.value.MontantValideeOperation]])])])])):m("",!0),e("div",Fe,[s.value?(n(),i("div",Ae,[e("div",Ne,[Ee,u(e("input",{type:"text",class:"form-control bg-white",id:"exampleInputText1","onUpdate:modelValue":o[6]||(o[6]=t=>s.value.nomOperation=t),placeholder:"Enter Name"},null,512),[[b,s.value.nomOperation]])])])):m("",!0),s.value?(n(),i("div",$e,[e("div",je,[Be,u(e("input",{type:"text",class:"form-control bg-white",id:"exampleInputText1","onUpdate:modelValue":o[7]||(o[7]=t=>s.value.prixOperation=t),placeholder:"Enter Name"},null,512),[[b,s.value.prixOperation]])])])):m("",!0)]),e("div",Re,[s.value?(n(),i("div",Le,[e("div",Je,[He,u(e("input",{type:"date",class:"form-control bg-white",id:"exampleInputdate","onUpdate:modelValue":o[8]||(o[8]=t=>s.value.dateOperation=t)},null,512),[[b,s.value.dateOperation]])])])):m("",!0),s.value?(n(),i("div",Ke,[e("div",Ge,[Qe,u(e("select",{name:"assurance_id",class:"form-control",id:"assurance_id","onUpdate:modelValue":o[9]||(o[9]=t=>s.value.clinique_id=t)},[(n(!0),i(g,null,w(v.cliniques,(t,c)=>(n(),i("option",{value:t.id,key:c},r(t.nomClinique),9,We))),128))],512),[[f,s.value.clinique_id]])])])):m("",!0)]),s.value?(n(),i("div",Xe,[e("div",Ye,[e("div",Ze,[et,u(e("textarea",{class:"form-control bg-white",id:"exampleFormControlTextarea1","onUpdate:modelValue":o[10]||(o[10]=t=>s.value.descriptionOperation=t),rows:"2"},`
                  `,512),[[b,s.value.descriptionOperation]])])])])):m("",!0),tt]),e("div",ot,[e("button",{type:"submit",onClick:o[11]||(o[11]=t=>M(s.value)),style:{"font-size":"16px","background-color":"#ceebee"},class:"btn btn-primary text-white"}," OK "),e("button",{type:"button",style:{"font-size":"16px"},class:"btn btn-secondary","data-dismiss":"modal",onClick:k}," Annuler ")])])])],32)],512)],64))}},dt=R(st,[["__scopeId","data-v-77d1e85a"]]);export{dt as default};
