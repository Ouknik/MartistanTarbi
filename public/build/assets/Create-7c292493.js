import{r as m,q as I,P as O,y as C,o as c,d,a as t,h as L,F as y,f as x,i,s as g,u as s,t as r,g as _,j as u,v as w,A as J,e as h,B as Y,K,k as R,J as Z}from"./app-e263ac0f.js";import{i as k}from"./index.min-40c7dc60.js";import"./AntecedentP-acf1c4c8.js";const H={class:"row"},W={class:"col-lg-8"},Q={class:"iq-card"},X=t("div",{class:"iq-card-header d-flex justify-content-between",style:{"background-color":"#e5faff"}},[t("div",{class:"iq-header-title"},[t("h4",{class:"card-title"},"Ajouter Patient")])],-1),tt={class:"iq-card-body"},et={class:"new-user-info row"},ot={class:"col-lg-12"},st={class:"row"},lt={class:"col-lg-12 text-center"},nt={class:"iq-card-body"},it=["id","value"],at={hidden:""},ct=["for"],dt={class:"row"},rt={class:"col-lg-12"},ut={key:0,class:"text-danger text-center font-weight-bold"},mt=t("hr",null,null,-1),pt={class:"row"},_t={class:"form-group col-md-4 col-lg-4"},ht=t("label",{for:"cinPatient",class:"control-label align-self-center mb-1"}," CIN",-1),vt={class:"form-group col-md-4 col-lg-4"},ft=t("label",{class:"control-label align-self-center mb-1",for:"nomPatient"},[t("span",{class:"text-danger font-size-16"},"* "),h("Nom")],-1),gt={key:0,class:"error-message"},bt={class:"form-group col-md-4 col-lg-4"},Pt=t("label",{class:"control-label align-self-center mb-1",for:"prenomPatient"},[t("span",{class:"text-danger font-size-16"},"* "),h("Prénom")],-1),yt={key:0,class:"error-message"},xt={class:"form-group col-md-4 col-lg-4"},wt=t("label",{class:"control-label align-self-center mb-1"}," Genre:",-1),kt={class:"row ml-1 mt-1"},At={id:"genre",class:"pt-2"},Vt={class:"custom-control custom-radio custom-control-inline"},Dt=t("label",{class:"custom-control-label",for:"customRadio6"},"Masculin",-1),Mt={class:"custom-control custom-radio custom-control-inline"},Ut=t("label",{class:"custom-control-label",for:"customRadio7"},"Féminin",-1),Ct={class:"form-group col-md-4 col-lg-4"},Rt=t("label",{class:"control-label align-self-center mb-1"}," Civilité:",-1),Nt={class:"row ml-1 mt-1"},jt={id:"genre",class:"pt-2"},St={class:"custom-control custom-radio custom-control-inline"},It=["disabled"],Ot=t("label",{class:"custom-control-label",for:"customRadio8"},"M",-1),Ft={class:"custom-control custom-radio custom-control-inline"},zt=["disabled"],Bt=t("label",{class:"custom-control-label",for:"customRadio9"},"Mlle",-1),Tt={class:"custom-control custom-radio custom-control-inline"},qt=["disabled"],$t=t("label",{class:"custom-control-label",for:"customRadio10"},"Mme",-1),Et={class:"form-group col-md-4 col-lg-4"},Gt=t("label",{for:"conjointPatient",class:"control-label align-self-center"}," Conjoint",-1),Lt={class:"form-group col-md-4 col-lg-4"},Jt=t("label",{class:"control-label align-self-center mb-1",for:"exampleInputdate"},"Date Naissance",-1),Yt=["max"],Kt={class:"form-group col-md-4 col-lg-4"},Zt=t("label",{class:"control-label align-self-center mb-1"}," Ville",-1),Ht=["value"],Wt={class:"form-group col-md-4 col-lg-4"},Qt=t("label",{class:"control-label align-self-center mb-1"},[t("span",{class:"text-danger font-size-16"},"* "),h("Assurance")],-1),Xt=["value"],te={class:"form-group col-md-4 col-lg-4"},ee=t("label",{class:"control-label align-self-center mb-1",for:"cname"},"Téléphone",-1),oe={class:"form-group col-md-4 col-lg-4"},se=t("label",{class:"control-label align-self-center mb-1",for:"add2"},"Nationnalité",-1),le=t("option",{selected:"",value:"Marocaine"}," Marocaine ",-1),ne=t("option",{value:"Française"},"Française",-1),ie=t("option",{value:"Autre"},"Autre",-1),ae=[le,ne,ie],ce={class:"form-group col-md-4 col-lg-4"},de=t("label",{class:"control-label align-self-center mb-1"},[t("span",{class:"text-danger font-size-16"},"* "),h("Status:")],-1),re=["value"],ue={class:"form-group col-md-4 col-lg-4"},me=t("label",{class:"control-label align-self-center mb-1",for:"emailPatient"},"Email:",-1),pe={class:"form-group col-md-4 col-lg-4"},_e=t("label",null,"Groupe Sanguin:",-1),he=R('<option value="0"></option><option value="O-">O-</option><option value="O+">O+</option><option value="A-">A-</option><option value="A+">A+</option><option value="B-">B-</option><option value="B+">B+</option><option value="AB-">AB-</option><option value="AB+">AB+</option>',9),ve=[he],fe=t("hr",null,null,-1),ge={class:"row"},be={class:"form-group col-md-4 col-lg-4"},Pe={class:"control-label align-self-center mb-1",for:"add1COD"},ye={hidden:""},xe={class:"form-group col-md-4 col-lg-4"},we=t("label",{class:"control-label align-self-center mb-1",for:"add2"},"Adresse",-1),ke={class:"form-group col-md-4 col-lg-4"},Ae=t("label",{class:"control-label align-self-center mb-1",for:"exampleFormControlTextarea1"},"Description",-1),Ve=t("hr",null,null,-1),De={key:0},Me={class:"row mt-2"},Ue={class:"form-group col-md-4 col-lg-4"},Ce=t("div",{class:"timeline-dots-fill"},null,-1),Re=t("h6",{class:"float-left mb-2 text-dark"},[t("i",{class:"ri-user-fill text-danger"}),h(" Dernières règles ")],-1),Ne=t("small",{class:"float-right mt-1"},null,-1),je={class:"d-inline-block w-100"},Se=["max"],Ie=R('<div class="form-group col-md-4 col-lg-4"><div class="timeline-dots-fill bg-success"></div><h6 class="float-left mb-2 text-dark"><i class="ri-heart-fill text-danger"></i> Grossesse </h6><small class="float-right mt-1"></small><div class="d-inline-block w-100"><input disabled type="date" class="form-control" id="dateGrossesse"></div></div><div class="form-group col-md-4 col-lg-4"><div class="timeline-dots-fill bg-info"></div><h6 class="float-left mb-2 text-dark"><i class="ri-user-fill text-danger"></i> Accouchement </h6><small class="float-right mt-1"></small><div class="d-inline-block w-100"><input disabled type="date" class="form-control" value="" id="dateAccouchement"></div></div>',2),Oe={class:"row mb-2"},Fe={class:"col-lg-12 text-center"},ze={key:0,style:{"font-weight":"bold",color:"black","margin-right":"20px"}},Be={key:1,style:{"font-weight":"bold",color:"black"}},Te=t("hr",null,null,-1),qe={class:"row"},$e={class:"col-lg-6"},Ee={class:"custom-control custom-switch custom-switch-icon custom-control-inline"},Ge=t("span",{class:"mb-1 mr-3 text-dark",style:{"font-size":"15px","font-style":"normal","font-weight":"bold"}}," Ajouter a la liste d'attente ",-1),Le=R('<label class="custom-control-label" for="customSwitch-1"><span class="switch-icon-left"><i class="fa fa-check"></i></span><span class="switch-icon-right"><i class="fa fa-check"></i></span></label>',1),Je={hidden:""},Ye={class:"col-lg-6"},Ke={class:"form-group"},Ze=t("label",{class:"control-label align-self-center mb-1",for:"exampleInputdate",style:{"font-weight":"bold"}}," Programmer un Rendez-Vous",-1),He=["required"],We=t("div",{class:"row mt-4"},null,-1),Qe=t("button",{type:"submit",class:"btn mb-3 btn-primary"},[t("i",{class:"ri-bill-fill"}),h("Ajouter ")],-1),Xe={class:"col-lg-4 p-1"},to={class:"iq-card"},eo=t("div",{class:"iq-card-header d-flex justify-content-between",style:{"background-color":"#e5faff"}},[t("div",{class:"iq-header-title"},[t("h4",{class:"card-title"},"Les antécédents")])],-1),oo={class:"iq-card-body"},so={class:"row"},lo={class:"custom-control custom-switch custom-switch-text custom-switch-color mt-3"},no={for:"nomAntecedent",class:"ml-4"},io={key:0},ao={hidden:""},co=["id","checked","onChange"],ro=["for"],uo=["id","value","onInput"],mo={key:2,class:"col"},po=["value","onInput"],_o={data(){return{radioChecked:!0}},methods:{}},go=Object.assign(_o,{__name:"Create",props:{antecedents:Object,docteurs:Object,assurances:Object,villes:Object,motifVisite:Object},setup(b){const P=b;let p=m(null),F=m(null);I(()=>{if(P.assurances&&Object.keys(P.assurances).length>0){const n=Object.keys(P.assurances)[0];p.value=P.assurances[n].id}});const z=O({dateDernierRegle:"",dateGrossesse:"",dateAccouchement:"",patient:""}),o=O({codePatient1420:"",cinPatient:"",nomPatient:"",prenomPatient:"",sexePatient:"Féminin",statutPatient:"Consultation",emailPatient:"",adressePatient:"",telephonePatient:"",dateNaissancePatient:"",nationalitePatient:"Marocaine",villePatient:"Taroudant",nationalitePatient:"Marocaine",descriptionPatient:"",adressePatient:"",assurance_id:p,docteur_id:"",dateRendezVous:"",antecedents:P.antecedents,isActive:"",groupeSanguinPatient:"",conjointPatient:"",civilitePatient:"Mlle",gestationnelle:z});let v=m(""),f=m("");const N=()=>{/^[a-zA-Z\s-_']*$/.test(o.nomPatient)?v.value="":v.value="Le nom ne doit contenir que des lettres"},j=()=>{/^[a-zA-Z\s-_]*$/.test(o.prenomPatient)?f.value="":f.value="Le prénom ne doit contenir que des lettres"};C(()=>o.nomPatient,N),C(()=>o.prenomPatient,j),C(()=>o.sexePatient,(n,l)=>{n==="Masculin"?o.civilitePatient="M":n==="Féminin"&&(o.civilitePatient==="M"||o.civilitePatient===null)&&(o.civilitePatient="Mlle")});const B=()=>{o.reset(),o.assurance_id=p.value,o.docteur_id=F.value};let S=m(null);I(()=>{const n=new Date,l=n.getDate()<10?`0${n.getDate()}`:n.getDate(),e=n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1,a=n.getFullYear();S.value=`${a}-${e}-${l}`});const T=()=>{o.docteur_id&&!v.value&&!f.value?Z.visit("/patients",{method:"post",data:o,preserveState:!0,preserveScroll:!0,errorBag:null,forceFormData:!0,onProgress:n=>{},onSuccess:n=>{k.useToast().success("Patient a été Bien Ajouter",{position:"bottom-right",duration:3e3}),B()},onError:n=>{k.useToast().error("Les champs Nom et Prénom sont Obligatoire !",{position:"bottom-right",duration:4e3})}}):(o.docteur_id||k.useToast().error("Veuillez Affecter Le Patient a Un Docteur !.",{position:"bottom-right",duration:4e3}),v.value&&k.useToast().error("Nom incorrect !",{position:"bottom-right",duration:4e3}),f.value&&k.useToast().error("Prénom incorrect !",{position:"bottom-right",duration:4e3}))},M=m(new Date),A=m(0),V=m(0);m(new Date);function q(){const n=new Date,l=n.getFullYear();let e=n.getMonth()+1,a=n.getDate();return e<10&&(e="0"+e),a<10&&(a="0"+a),`${l}-${e}-${a}`}function $(){const n=new Date,l=new Date(M.value),e=Math.abs(n-l),a=Math.ceil(e/(1e3*60*60*24)),E=Math.floor(a/7),G=a%7,D=new Date(l);D.setDate(D.getDate()+14);const U=new Date(D);U.setDate(U.getDate()+(40*7-14)),document.getElementById("dateGrossesse").value=D.toISOString().split("T")[0],document.getElementById("dateAccouchement").value=U.toISOString().split("T")[0],A.value=E,V.value=G}return(n,l)=>(c(),d("div",H,[t("div",W,[t("div",Q,[X,t("div",tt,[t("div",et,[t("div",ot,[t("form",{onSubmit:L(T,["prevent"])},[t("div",st,[t("div",lt,[t("div",nt,[(c(!0),d(y,null,x(b.docteurs,e=>(c(),d("div",{key:e.id,class:"custom-control custom-radio custom-radio-color-checked custom-control-inline"},[i(t("input",{type:"radio",id:"customRadio-"+e.id,name:"customRadio-10",class:"custom-control-input bg-primary","onUpdate:modelValue":l[0]||(l[0]=a=>s(o).docteur_id=a),value:e.id},null,8,it),[[g,s(o).docteur_id]]),t("span",at,r(s(o).docteur_id=e.id),1),t("label",{class:"custom-control-label",for:"customRadio-"+e.id,style:{"font-size":"15px","font-weight":"bold"}},"Dr. "+r(e.name),9,ct)]))),128))])])]),t("div",dt,[t("div",rt,[s(o).docteur_id?_("",!0):(c(),d("div",ut,"Veuillez Affecter Le Patient a Un Docteur !"))])]),mt,t("div",pt,[t("div",_t,[ht,i(t("input",{type:"text",class:"form-control",id:"cinPatient",placeholder:"CIN","onUpdate:modelValue":l[1]||(l[1]=e=>s(o).cinPatient=e)},null,512),[[u,s(o).cinPatient]])]),t("div",vt,[ft,i(t("input",{type:"text",class:"form-control",id:"nomPatient",placeholder:"Nom","onUpdate:modelValue":l[2]||(l[2]=e=>s(o).nomPatient=e),onInput:N},null,544),[[u,s(o).nomPatient]]),s(v)?(c(),d("p",gt,r(s(v)),1)):_("",!0)]),t("div",bt,[Pt,i(t("input",{type:"text",class:"form-control",id:"prenomPatient",placeholder:"Prénom","onUpdate:modelValue":l[3]||(l[3]=e=>s(o).prenomPatient=e),onInput:j},null,544),[[u,s(o).prenomPatient]]),s(f)?(c(),d("p",yt,r(s(f)),1)):_("",!0)]),t("div",xt,[wt,t("div",kt,[t("div",At,[t("div",Vt,[i(t("input",{type:"radio",id:"customRadio6",name:"customRadio1",class:"custom-control-input","onUpdate:modelValue":l[4]||(l[4]=e=>s(o).sexePatient=e),value:"Masculin"},null,512),[[g,s(o).sexePatient]]),Dt]),t("div",Mt,[i(t("input",{type:"radio",id:"customRadio7",name:"customRadio1",class:"custom-control-input","onUpdate:modelValue":l[5]||(l[5]=e=>s(o).sexePatient=e),value:"Féminin"},null,512),[[g,s(o).sexePatient]]),Ut])])])]),t("div",Ct,[Rt,t("div",Nt,[t("div",jt,[t("div",St,[i(t("input",{type:"radio",id:"customRadio8",name:"customRadio2",class:"custom-control-input","onUpdate:modelValue":l[6]||(l[6]=e=>s(o).civilitePatient=e),value:"M",disabled:s(o).sexePatient=="Féminin"},null,8,It),[[g,s(o).civilitePatient]]),Ot]),t("div",Ft,[i(t("input",{type:"radio",id:"customRadio9",name:"customRadio2",class:"custom-control-input","onUpdate:modelValue":l[7]||(l[7]=e=>s(o).civilitePatient=e),value:"Mlle",disabled:s(o).sexePatient=="Masculin"},null,8,zt),[[g,s(o).civilitePatient]]),Bt]),t("div",Tt,[i(t("input",{type:"radio",id:"customRadio10",name:"customRadio2",class:"custom-control-input","onUpdate:modelValue":l[8]||(l[8]=e=>s(o).civilitePatient=e),value:"Mme",disabled:s(o).sexePatient=="Masculin"},null,8,qt),[[g,s(o).civilitePatient]]),$t])])])]),t("div",Et,[Gt,i(t("input",{type:"text",class:"form-control",id:"conjointPatient",placeholder:"Conjoint","onUpdate:modelValue":l[9]||(l[9]=e=>s(o).conjointPatient=e)},null,512),[[u,s(o).conjointPatient]])]),t("div",Lt,[Jt,i(t("input",{type:"date",class:"form-control",id:"exampleInputdate","onUpdate:modelValue":l[10]||(l[10]=e=>s(o).dateNaissancePatient=e),max:s(S)},null,8,Yt),[[u,s(o).dateNaissancePatient]])]),t("div",Kt,[Zt,i(t("select",{class:"form-control",id:"VillePatient","onUpdate:modelValue":l[11]||(l[11]=e=>s(o).villePatient=e)},[(c(!0),d(y,null,x(b.villes,e=>(c(),d("option",{key:e.id,value:e.nomVille},r(e.nomVille),9,Ht))),128))],512),[[w,s(o).villePatient]])]),t("div",Wt,[Qt,i(t("select",{"onUpdate:modelValue":l[12]||(l[12]=e=>J(p)?p.value=e:p=e),name:"assurance_id",class:"form-control",id:"assurance_id"},[(c(!0),d(y,null,x(b.assurances,(e,a)=>(c(),d("option",{value:e.id,key:a},r(e.typeAssurance),9,Xt))),128))],512),[[w,s(p)]])]),t("div",te,[ee,i(t("input",{type:"text",class:"form-control",id:"cname",placeholder:"Téléphone","onUpdate:modelValue":l[13]||(l[13]=e=>s(o).telephonePatient=e)},null,512),[[u,s(o).telephonePatient]])]),t("div",oe,[se,i(t("select",{class:"form-control",id:"nationnalitePatient","onUpdate:modelValue":l[14]||(l[14]=e=>s(o).nationalitePatient=e)},ae,512),[[w,s(o).nationalitePatient]])]),t("div",ce,[de,i(t("select",{class:"form-control",id:"statutPatient","onUpdate:modelValue":l[15]||(l[15]=e=>s(o).statutPatient=e)},[(c(!0),d(y,null,x(b.motifVisite,(e,a)=>(c(),d("option",{value:e.motifVisite,key:a},r(e.motifVisite),9,re))),128))],512),[[w,s(o).statutPatient]])]),t("div",ue,[me,i(t("input",{type:"email",class:"form-control",id:"emailPatient",placeholder:"Email","onUpdate:modelValue":l[16]||(l[16]=e=>s(o).emailPatient=e)},null,512),[[u,s(o).emailPatient]])]),t("div",pe,[_e,i(t("select",{class:"form-control",id:"groupeSanguinPatient","onUpdate:modelValue":l[17]||(l[17]=e=>s(o).groupeSanguinPatient=e)},ve,512),[[w,s(o).groupeSanguinPatient]])])]),fe,t("div",ge,[t("div",be,[t("label",Pe,[h("Code Patient "),t("div",ye,r(s(o).codePatient=s(o).dateNaissancePatient.split("-")[2]+s(o).dateNaissancePatient.split("-")[1]+s(o).dateNaissancePatient.split("-")[0]+new Date().getHours()+new Date().getMinutes()+new Date().getDay()+new Date().getMonth()+new Date().getFullYear()),1)]),i(t("input",{type:"text",class:"form-control",id:"add1COD",placeholder:"Code Patient","onUpdate:modelValue":l[18]||(l[18]=e=>s(o).codePatient=e),disabled:""},null,512),[[u,s(o).codePatient]])]),t("div",xe,[we,i(t("textarea",{class:"form-control",id:"add2",placeholder:"Adresse",rows:"2","onUpdate:modelValue":l[19]||(l[19]=e=>s(o).adressePatient=e)},null,512),[[u,s(o).adressePatient]])]),t("div",ke,[Ae,i(t("textarea",{class:"form-control",id:"exampleFormControlTextarea1",placeholder:"Description",rows:"2","onUpdate:modelValue":l[20]||(l[20]=e=>s(o).descriptionPatient=e)},null,512),[[u,s(o).descriptionPatient]])])]),Ve,s(o).sexePatient==="Féminin"?(c(),d("div",De,[t("div",Me,[t("div",Ue,[Ce,Re,Ne,t("div",je,[i(t("input",{type:"date",onChange:$,class:"form-control","onUpdate:modelValue":l[21]||(l[21]=e=>M.value=e),id:"exampleInputdate",max:q()},null,40,Se),[[u,M.value]])])]),Ie]),t("div",Oe,[t("div",Fe,[A.value!=null&&!isNaN(A.value)?(c(),d("span",ze,r(A.value)+" Semaine(s)",1)):_("",!0),V.value!=null&&!isNaN(V.value)?(c(),d("span",Be,r(V.value)+" Jour(s)",1)):_("",!0)])]),Te])):_("",!0),t("div",qe,[t("div",$e,[t("div",Ee,[Ge,i(t("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch-1","onUpdate:modelValue":l[22]||(l[22]=e=>n.radioChecked=e),checked:""},null,512),[[Y,n.radioChecked]]),Le])]),t("span",Je,r(s(o).isActive=n.radioChecked),1),t("div",Ye,[i(t("div",Ke,[Ze,i(t("input",{type:"date",class:"form-control",id:"dateRendezVous","onUpdate:modelValue":l[23]||(l[23]=e=>s(o).dateRendezVous=e),required:!n.radioChecked},null,8,He),[[u,s(o).dateRendezVous]])],512),[[K,!n.radioChecked]])])]),We,Qe],32)])])])])]),t("div",Xe,[t("div",to,[eo,t("div",oo,[t("div",so,[(c(!0),d(y,null,x(n.$props.antecedents,e=>(c(),d("div",{class:"col-lg-10",key:e.id},[t("div",lo,[t("h5",no,r(e.nomAntecedent),1),e.typeAntecedent=="true"?(c(),d("div",io,[t("p",ao,r(e.valeurAntecedent==1?e.valeurAntecedent=!0:e.valeurAntecedent=!1),1),t("input",{type:"checkbox",class:"custom-control-input bg-danger",id:e.id,checked:e.valeurAntecedent,onChange:a=>e.valeurAntecedent=a.target.checked,style:{"font-size":"8px"}},null,40,co),t("label",{class:"custom-control-label ml-4 pl-5",for:e.id,"data-on-label":"OUI","data-off-label":"Non"},null,8,ro)])):e.typeAntecedent=="valeur"?(c(),d("input",{key:1,type:"text",class:"form-control ml-3 text-dark font-weight-bold",style:{height:"35px","background-color":"#e0e0e0"},id:e.id,value:e.valeurAntecedent,onInput:a=>e.valeurAntecedent=a.target.value},null,40,uo)):e.typeAntecedent=="text"?(c(),d("div",mo,[t("textarea",{class:"form-control",style:{width:"100%"},rows:"3",value:e.valeurAntecedent,onInput:a=>e.valeurAntecedent=a.target.value},null,40,po)])):_("",!0)])]))),128))])])])])]))}});export{go as default};
