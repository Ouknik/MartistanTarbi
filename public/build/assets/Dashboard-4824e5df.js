import{o as n,d,b as z,u as t,X as A,w as F,a as e,n as a,t as s,F as m,f as u,z as V,g as S}from"./app-e263ac0f.js";import{u as D,_ as P}from"./SuperAdminLayout-931e23d9.js";const R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},T={class:"flex items-center"},E=e("div",{class:"p-3 bg-indigo-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1),H={class:"text-sm text-gray-500"},L={class:"text-2xl font-bold text-gray-800"},N={class:"flex items-center"},$=e("div",{class:"p-3 bg-green-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),O={class:"text-sm text-gray-500"},U={class:"text-2xl font-bold text-gray-800"},X={class:"flex items-center"},q=e("div",{class:"p-3 bg-purple-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1),G={class:"text-sm text-gray-500"},I={class:"text-2xl font-bold text-gray-800"},J={class:"flex items-center"},K=e("div",{class:"p-3 bg-yellow-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),Q={class:"text-sm text-gray-500"},W={class:"text-2xl font-bold text-gray-800"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Z={class:"bg-white rounded-xl shadow-sm p-6"},ee={class:"text-lg font-bold text-gray-800 mb-4"},te={class:"space-y-4"},se={class:"flex-1"},oe={class:"flex justify-between mb-1"},re={class:"text-sm font-medium text-gray-700"},ae={class:"text-sm text-gray-500"},ie={class:"w-full bg-gray-200 rounded-full h-2"},le={class:"bg-white rounded-xl shadow-sm p-6"},ne={class:"text-lg font-bold text-gray-800 mb-4"},de={class:"flex items-end justify-between h-48"},ce={class:"text-xs text-gray-500 mt-2"},he={class:"bg-white rounded-xl shadow-sm"},me={class:"p-6 border-b border-gray-200"},ue={class:"text-lg font-bold text-gray-800"},xe={class:"overflow-x-auto"},ge={class:"w-full"},_e={class:"bg-gray-50"},pe={class:"bg-white divide-y divide-gray-200"},be={class:"px-6 py-4 whitespace-nowrap"},ye={class:"flex items-center"},ve={class:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center"},fe={class:"text-indigo-600 font-bold"},we={class:"text-sm font-medium text-gray-900"},ke={class:"text-sm text-gray-500"},Be={class:"px-6 py-4 whitespace-nowrap"},Me={class:"px-6 py-4 whitespace-nowrap"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ce={key:0},ze={colspan:"4",class:"px-6 py-8 text-center text-gray-500"},De={__name:"Dashboard",props:{stats:Object,recentTenants:Array,subscriptionsByPlan:Array,monthlyRevenue:Array},setup(l){const{t:r,isRtl:i}=D();return(Ve,Ae)=>(n(),d(m,null,[z(t(A),{title:t(r)("superadmin.dashboard")},null,8,["title"]),z(P,{title:t(r)("superadmin.dashboard")},{default:F(()=>{var x,g,_,p,b,y;return[e("div",R,[e("div",{class:a(["bg-white rounded-xl shadow-sm p-6",t(i)?"border-r-4":"border-l-4"]),style:{"border-color":"rgb(99 102 241)"}},[e("div",T,[E,e("div",{class:a(t(i)?"mr-4":"ml-4")},[e("p",H,s(t(r)("superadmin.total_clinics")),1),e("p",L,s(((x=l.stats)==null?void 0:x.total_tenants)||0),1)],2)])],2),e("div",{class:a(["bg-white rounded-xl shadow-sm p-6",t(i)?"border-r-4":"border-l-4"]),style:{"border-color":"rgb(34 197 94)"}},[e("div",N,[$,e("div",{class:a(t(i)?"mr-4":"ml-4")},[e("p",O,s(t(r)("superadmin.active_clinics")),1),e("p",U,s(((g=l.stats)==null?void 0:g.active_tenants)||0),1)],2)])],2),e("div",{class:a(["bg-white rounded-xl shadow-sm p-6",t(i)?"border-r-4":"border-l-4"]),style:{"border-color":"rgb(168 85 247)"}},[e("div",X,[q,e("div",{class:a(t(i)?"mr-4":"ml-4")},[e("p",G,s(t(r)("superadmin.active_subscriptions")),1),e("p",I,s(((_=l.stats)==null?void 0:_.active_subscriptions)||0),1)],2)])],2),e("div",{class:a(["bg-white rounded-xl shadow-sm p-6",t(i)?"border-r-4":"border-l-4"]),style:{"border-color":"rgb(234 179 8)"}},[e("div",J,[K,e("div",{class:a(t(i)?"mr-4":"ml-4")},[e("p",Q,s(t(r)("superadmin.monthly_revenue")),1),e("p",W,s(((b=(p=l.stats)==null?void 0:p.monthly_revenue)==null?void 0:b.toLocaleString())||0)+" "+s(t(r)("superadmin.currency")),1)],2)])],2)]),e("div",Y,[e("div",Z,[e("h3",ee,s(t(r)("superadmin.subscriptions_by_plan")),1),e("div",te,[(n(!0),d(m,null,u(l.subscriptionsByPlan,o=>{var c;return n(),d("div",{key:o.name,class:"flex items-center"},[e("div",se,[e("div",oe,[e("span",re,s(o.name),1),e("span",ae,s(o.count)+" "+s(t(r)("superadmin.clinic")),1)]),e("div",ie,[e("div",{class:a(["h-2 rounded-full",{"bg-gray-400":o.name==="Free","bg-blue-500":o.name==="Basic","bg-purple-500":o.name==="Pro","bg-yellow-500":o.name==="Enterprise"}]),style:V({width:`${o.count/(((c=l.stats)==null?void 0:c.total_tenants)||1)*100}%`})},null,6)])])])}),128))])]),e("div",le,[e("h3",ne,s(t(r)("superadmin.monthly_revenue_chart")),1),e("div",de,[(n(!0),d(m,null,u(l.monthlyRevenue,(o,c)=>(n(),d("div",{key:c,class:"flex flex-col items-center"},[e("div",{class:"w-8 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:V({height:`${o.revenue/(Math.max(...l.monthlyRevenue.map(h=>h.revenue))||1)*150}px`})},null,4),e("span",ce,s(o.month),1)]))),128))])])]),e("div",he,[e("div",me,[e("h3",ue,s(t(r)("superadmin.recent_clinics")),1)]),e("div",xe,[e("table",ge,[e("thead",_e,[e("tr",null,[e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(i)?"text-right":"text-left"])},s(t(r)("superadmin.clinic")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(i)?"text-right":"text-left"])},s(t(r)("superadmin.plan")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(i)?"text-right":"text-left"])},s(t(r)("superadmin.status")),3),e("th",{class:a(["px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",t(i)?"text-right":"text-left"])},s(t(r)("superadmin.registration_date")),3)])]),e("tbody",pe,[(n(!0),d(m,null,u(l.recentTenants,o=>{var c,h,v,f,w,k,B,M,j,C;return n(),d("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",be,[e("div",ye,[e("div",ve,[e("span",fe,s(((h=(c=o.data)==null?void 0:c.name)==null?void 0:h.charAt(0))||"C"),1)]),e("div",{class:a(t(i)?"mr-4":"ml-4")},[e("div",we,s(((v=o.data)==null?void 0:v.name)||o.id),1),e("div",ke,s(((w=(f=o.domains)==null?void 0:f[0])==null?void 0:w.domain)||"-"),1)],2)])]),e("td",Be,[e("span",{class:a(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-gray-100 text-gray-800":((k=o.plan)==null?void 0:k.name)==="Free","bg-blue-100 text-blue-800":((B=o.plan)==null?void 0:B.name)==="Basic","bg-purple-100 text-purple-800":((M=o.plan)==null?void 0:M.name)==="Pro","bg-yellow-100 text-yellow-800":((j=o.plan)==null?void 0:j.name)==="Enterprise"}])},s(((C=o.plan)==null?void 0:C.name)||"Free"),3)]),e("td",Me,[e("span",{class:a(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",o.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},s(o.is_active?t(r)("superadmin.active"):t(r)("superadmin.inactive")),3)]),e("td",je,s(new Date(o.created_at).toLocaleDateString(t(i)?"ar-MA":"en-US")),1)])}),128)),(y=l.recentTenants)!=null&&y.length?S("",!0):(n(),d("tr",Ce,[e("td",ze,s(t(r)("superadmin.no_clinics_registered")),1)]))])])])])]}),_:1},8,["title"])],64))}};export{De as default};
